{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shbaita Studio\\\\Documents\\\\project\\\\new1\\\\themeforest-irsnufCS-redparts-auto-parts-react-ecommerce-template\\\\Sources\\\\src\\\\pages\\\\compare.tsx\";\nvar __jsx = React.createElement;\n// react\nimport React, { useMemo, useState } from 'react'; // third-party\n\nimport classNames from 'classnames';\nimport { FormattedMessage, useIntl } from 'react-intl'; // application\n\nimport AppImage from '~/components/shared/AppImage';\nimport AppLink from '~/components/shared/AppLink';\nimport AsyncAction from '~/components/shared/AsyncAction';\nimport BlockHeader from '~/components/blocks/BlockHeader';\nimport BlockSpace from '~/components/blocks/BlockSpace';\nimport CurrencyFormat from '~/components/shared/CurrencyFormat';\nimport PageTitle from '~/components/shared/PageTitle';\nimport Rating from '~/components/shared/Rating';\nimport StockStatusBadge from '~/components/shared/StockStatusBadge';\nimport url from '~/services/url';\nimport { useCartAddItem } from '~/store/cart/cartHooks';\nimport { useCompare, useCompareClear, useCompareRemoveItem } from '~/store/compare/compareHooks';\n\nfunction Page() {\n  const intl = useIntl();\n  const compare = useCompare();\n  const compareClear = useCompareClear();\n  const cartAddItem = useCartAddItem();\n  const compareRemoveItem = useCompareRemoveItem();\n  const products = compare.items;\n  const {\n    0: show,\n    1: setShow\n  } = useState('all');\n  const attributes = useMemo(() => {\n    const attributes = [];\n    products.forEach(product => product.attributes.forEach(pa => {\n      let attribute = attributes.find(x => x.slug === pa.slug);\n\n      if (!attribute) {\n        attribute = {\n          slug: pa.slug,\n          name: pa.name,\n          sameValues: false,\n          values: {}\n        };\n        attributes.push(attribute);\n      }\n\n      attribute.values[product.id] = pa.values;\n    }));\n\n    for (let i = 0; i < attributes.length; i += 1) {\n      const attribute = attributes[i];\n      const values = products.map(product => (attribute.values[product.id] || []).map(x => x.slug).sort());\n      attribute.sameValues = values.reduce((sameValues, curr) => sameValues && values[0].length === curr.length && values[0].join() === curr.join(), true);\n    }\n\n    return attributes;\n  }, [products]);\n  const differentAttributes = useMemo(() => attributes.filter(x => !x.sameValues), [attributes]);\n  const currentAttributes = show === 'all' ? attributes : differentAttributes;\n\n  if (compare.items.length === 0) {\n    return __jsx(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }, __jsx(PageTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, intl.formatMessage({\n      id: 'HEADER_COMPARE'\n    })), __jsx(BlockHeader, {\n      breadcrumb: [{\n        title: intl.formatMessage({\n          id: 'LINK_HOME'\n        }),\n        url: '/'\n      }, {\n        title: intl.formatMessage({\n          id: 'LINK_COMPARE'\n        }),\n        url: ''\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }), __jsx(\"div\", {\n      className: \"block-empty\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }, __jsx(\"div\", {\n      className: \"block-empty__body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 25\n      }\n    }, __jsx(\"h1\", {\n      className: \"block-empty__title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 29\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"HEADER_COMPARE_EMPTY_TITLE\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 33\n      }\n    })), __jsx(\"div\", {\n      className: \"block-empty__message\",\n      dangerouslySetInnerHTML: {\n        __html: intl.formatMessage({\n          id: 'HEADER_COMPARE_EMPTY_SUBTITLE'\n        })\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 29\n      }\n    }), __jsx(\"div\", {\n      className: \"block-empty__action\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 29\n      }\n    }, __jsx(AppLink, {\n      href: url.home(),\n      className: \"btn btn-primary btn-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 33\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"BUTTON_GO_TO_HOMEPAGE\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 37\n      }\n    })))))), __jsx(BlockSpace, {\n      layout: \"before-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }));\n  }\n\n  const tbody = __jsx(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }, __jsx(\"tr\", {\n    className: \"compare-table__row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, __jsx(\"th\", {\n    className: \"compare-table__column compare-table__column--header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TABLE_PRODUCT\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  })), compare.items.map(product => __jsx(\"td\", {\n    key: product.id,\n    className: \"compare-table__column compare-table__column--product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, __jsx(AppLink, {\n    href: url.product(product),\n    className: \"compare-table__product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: \"compare-table__product-image image image--type--product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 29\n    }\n  }, __jsx(\"div\", {\n    className: \"image__body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 33\n    }\n  }, __jsx(AppImage, {\n    className: \"image__tag\",\n    src: product.images && product.images[0],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 37\n    }\n  }))), __jsx(\"div\", {\n    className: \"compare-table__product-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 29\n    }\n  }, product.name)))), __jsx(\"td\", {\n    className: \"compare-table__column compare-table__column--fake\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 17\n    }\n  })), __jsx(\"tr\", {\n    className: \"compare-table__row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  }, __jsx(\"th\", {\n    className: \"compare-table__column compare-table__column--header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TABLE_RATING\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  })), compare.items.map(product => __jsx(\"td\", {\n    key: product.id,\n    className: \"compare-table__column compare-table__column--product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"compare-table__rating\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: \"compare-table__rating-stars\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 29\n    }\n  }, __jsx(Rating, {\n    value: product.rating || 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 33\n    }\n  })), __jsx(\"div\", {\n    className: \"compare-table__rating-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 29\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TEXT_RATING_LABEL\",\n    values: {\n      rating: product.rating,\n      reviews: product.reviews\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 33\n    }\n  }))))), __jsx(\"td\", {\n    className: \"compare-table__column compare-table__column--fake\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 17\n    }\n  })), __jsx(\"tr\", {\n    className: \"compare-table__row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }\n  }, __jsx(\"th\", {\n    className: \"compare-table__column compare-table__column--header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 17\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TABLE_STOCK_STATUS\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 21\n    }\n  })), compare.items.map(product => __jsx(\"td\", {\n    key: product.id,\n    className: \"compare-table__column compare-table__column--product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 21\n    }\n  }, __jsx(StockStatusBadge, {\n    stock: product.stock,\n    className: \"product__stock\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 25\n    }\n  }))), __jsx(\"td\", {\n    className: \"compare-table__column compare-table__column--fake\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 17\n    }\n  })), __jsx(\"tr\", {\n    className: \"compare-table__row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }\n  }, __jsx(\"th\", {\n    className: \"compare-table__column compare-table__column--header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TABLE_PRICE\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 21\n    }\n  })), compare.items.map(product => __jsx(\"td\", {\n    key: product.id,\n    className: \"compare-table__column compare-table__column--product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 21\n    }\n  }, __jsx(CurrencyFormat, {\n    value: product.price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 25\n    }\n  }))), __jsx(\"td\", {\n    className: \"compare-table__column compare-table__column--fake\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 17\n    }\n  })), __jsx(\"tr\", {\n    className: \"compare-table__row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  }, __jsx(\"th\", {\n    className: \"compare-table__column compare-table__column--header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 17\n    }\n  }, __jsx(\"span\", {\n    className: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 21\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TABLE_ADD_TO_CART\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 25\n    }\n  }))), compare.items.map(product => __jsx(\"td\", {\n    key: product.id,\n    className: \"compare-table__column compare-table__column--product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 21\n    }\n  }, __jsx(AsyncAction, {\n    action: () => cartAddItem(product),\n    render: ({\n      run,\n      loading\n    }) => __jsx(\"button\", {\n      type: \"button\",\n      className: classNames('btn btn-sm btn-primary', {\n        'btn-loading': loading\n      }),\n      onClick: run,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 33\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"BUTTON_ADD_TO_CART\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 37\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 25\n    }\n  }))), __jsx(\"td\", {\n    className: \"compare-table__column compare-table__column--fake\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 17\n    }\n  })), __jsx(\"tr\", {\n    className: \"compare-table__row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 13\n    }\n  }, __jsx(\"th\", {\n    className: \"compare-table__column compare-table__column--header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 17\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TABLE_SKU\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 21\n    }\n  })), compare.items.map(product => __jsx(\"td\", {\n    key: product.id,\n    className: \"compare-table__column compare-table__column--product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 21\n    }\n  }, product.sku)), __jsx(\"td\", {\n    className: \"compare-table__column compare-table__column--fake\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 17\n    }\n  })), currentAttributes.map((attribute, index) => __jsx(\"tr\", {\n    key: index,\n    className: \"compare-table__row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 17\n    }\n  }, __jsx(\"th\", {\n    className: \"compare-table__column compare-table__column--header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 21\n    }\n  }, attribute.name), compare.items.map(product => {\n    var _attribute$values$pro, _attribute$values$pro2;\n\n    return __jsx(\"td\", {\n      key: product.id,\n      className: \"compare-table__column compare-table__column--product\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 25\n      }\n    }, ((_attribute$values$pro = attribute.values[product.id]) === null || _attribute$values$pro === void 0 ? void 0 : _attribute$values$pro.length) > 0 && attribute.values[product.id].map(value => value.name).join(', '), ((_attribute$values$pro2 = attribute.values[product.id]) === null || _attribute$values$pro2 === void 0 ? void 0 : _attribute$values$pro2.length) === 0 && '—');\n  }), __jsx(\"td\", {\n    className: \"compare-table__column compare-table__column--fake\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 21\n    }\n  }))), __jsx(\"tr\", {\n    className: \"compare-table__row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 13\n    }\n  }, __jsx(\"th\", {\n    className: \"compare-table__column compare-table__column--header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 17\n    }\n  }, __jsx(\"span\", {\n    className: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 21\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TABLE_REMOVE\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 25\n    }\n  }))), compare.items.map(product => __jsx(\"td\", {\n    key: product.id,\n    className: \"compare-table__column compare-table__column--product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 21\n    }\n  }, __jsx(AsyncAction, {\n    action: () => compareRemoveItem(product.id),\n    render: ({\n      run,\n      loading\n    }) => __jsx(\"button\", {\n      type: \"button\",\n      className: classNames('btn', 'btn-sm', 'btn-secondary', {\n        'btn-loading': loading\n      }),\n      onClick: run,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 33\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"BUTTON_REMOVE\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 37\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 25\n    }\n  }))), __jsx(\"td\", {\n    className: \"compare-table__column compare-table__column--fake\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 17\n    }\n  })));\n\n  return __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 9\n    }\n  }, __jsx(PageTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 13\n    }\n  }, intl.formatMessage({\n    id: 'HEADER_COMPARE'\n  })), __jsx(BlockHeader, {\n    pageTitle: __jsx(FormattedMessage, {\n      id: \"HEADER_COMPARE\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 28\n      }\n    }),\n    breadcrumb: [{\n      title: intl.formatMessage({\n        id: 'LINK_HOME'\n      }),\n      url: '/'\n    }, {\n      title: intl.formatMessage({\n        id: 'LINK_COMPARE'\n      }),\n      url: ''\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    className: \"block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"compare card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"compare__options-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: \"compare__option\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 29\n    }\n  }, __jsx(\"div\", {\n    className: \"compare__option-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 33\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"INPUT_SHOW_LABEL\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 37\n    }\n  }), \":\"), __jsx(\"div\", {\n    className: \"compare__option-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 33\n    }\n  }, __jsx(\"div\", {\n    className: \"button-toggle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 37\n    }\n  }, __jsx(\"div\", {\n    className: \"button-toggle__list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 41\n    }\n  }, __jsx(\"label\", {\n    className: \"button-toggle__item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 45\n    }\n  }, __jsx(\"input\", {\n    type: \"radio\",\n    className: \"button-toggle__input\",\n    name: \"compare-filter\",\n    value: \"all\",\n    checked: show === 'all',\n    onChange: () => setShow('all'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 49\n    }\n  }), __jsx(\"span\", {\n    className: \"button-toggle__button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 49\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"INPUT_SHOW_OPTION_ALL\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 53\n    }\n  }))), __jsx(\"label\", {\n    className: \"button-toggle__item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 45\n    }\n  }, __jsx(\"input\", {\n    type: \"radio\",\n    className: \"button-toggle__input\",\n    name: \"compare-filter\",\n    value: \"different\",\n    checked: show === 'different',\n    onChange: () => setShow('different'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 49\n    }\n  }), __jsx(\"span\", {\n    className: \"button-toggle__button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 49\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"INPUT_SHOW_OPTION_DIFFERENT\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 53\n    }\n  }))))))), __jsx(\"div\", {\n    className: \"compare__option\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 29\n    }\n  }, __jsx(\"div\", {\n    className: \"compare__option-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 33\n    }\n  }, __jsx(AsyncAction, {\n    action: compareClear,\n    render: ({\n      run,\n      loading\n    }) => __jsx(\"button\", {\n      type: \"button\",\n      className: classNames('btn', 'btn-secondary', 'btn-xs', {\n        'btn-loading': loading\n      }),\n      onClick: run,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 45\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"BUTTON_CLEAR_LIST\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 49\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 37\n    }\n  })))), __jsx(\"div\", {\n    className: \"table-responsive\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 25\n    }\n  }, __jsx(\"table\", {\n    className: \"compare__table compare-table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 29\n    }\n  }, tbody))))), __jsx(BlockSpace, {\n    layout: \"before-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default Page;","map":{"version":3,"sources":["C:/Users/Shbaita Studio/Documents/project/new1/themeforest-irsnufCS-redparts-auto-parts-react-ecommerce-template/Sources/src/pages/compare.tsx"],"names":["React","useMemo","useState","classNames","FormattedMessage","useIntl","AppImage","AppLink","AsyncAction","BlockHeader","BlockSpace","CurrencyFormat","PageTitle","Rating","StockStatusBadge","url","useCartAddItem","useCompare","useCompareClear","useCompareRemoveItem","Page","intl","compare","compareClear","cartAddItem","compareRemoveItem","products","items","show","setShow","attributes","forEach","product","pa","attribute","find","x","slug","name","sameValues","values","push","id","i","length","map","sort","reduce","curr","join","differentAttributes","filter","currentAttributes","formatMessage","title","__html","home","tbody","images","rating","reviews","stock","price","run","loading","sku","index","value"],"mappings":"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","sourcesContent":["// react\nimport React, { useMemo, useState } from 'react';\n// third-party\nimport classNames from 'classnames';\nimport { FormattedMessage, useIntl } from 'react-intl';\n// application\nimport AppImage from '~/components/shared/AppImage';\nimport AppLink from '~/components/shared/AppLink';\nimport AsyncAction from '~/components/shared/AsyncAction';\nimport BlockHeader from '~/components/blocks/BlockHeader';\nimport BlockSpace from '~/components/blocks/BlockSpace';\nimport CurrencyFormat from '~/components/shared/CurrencyFormat';\nimport PageTitle from '~/components/shared/PageTitle';\nimport Rating from '~/components/shared/Rating';\nimport StockStatusBadge from '~/components/shared/StockStatusBadge';\nimport url from '~/services/url';\nimport { IProductAttributeValue } from '~/interfaces/product';\nimport { useCartAddItem } from '~/store/cart/cartHooks';\nimport { useCompare, useCompareClear, useCompareRemoveItem } from '~/store/compare/compareHooks';\n\ninterface Attribute {\n    slug: string;\n    name: string;\n    sameValues: boolean;\n    values: {[productId: number]: IProductAttributeValue[]};\n}\n\nfunction Page() {\n    const intl = useIntl();\n    const compare = useCompare();\n    const compareClear = useCompareClear();\n    const cartAddItem = useCartAddItem();\n    const compareRemoveItem = useCompareRemoveItem();\n    const products = compare.items;\n    const [show, setShow] = useState('all');\n\n    const attributes: Attribute[] = useMemo(() => {\n        const attributes: Attribute[] = [];\n\n        products.forEach((product) => product.attributes.forEach((pa) => {\n            let attribute = attributes.find((x) => x.slug === pa.slug);\n\n            if (!attribute) {\n                attribute = {\n                    slug: pa.slug,\n                    name: pa.name,\n                    sameValues: false,\n                    values: {},\n                };\n\n                attributes.push(attribute);\n            }\n\n            attribute.values[product.id] = pa.values;\n        }));\n\n        for (let i = 0; i < attributes.length; i += 1) {\n            const attribute = attributes[i];\n            const values = products.map((product) => (\n                (attribute.values[product.id] || []).map((x) => x.slug).sort()\n            ));\n\n            attribute.sameValues = values.reduce<boolean>((sameValues, curr) => (\n                sameValues && (values[0].length === curr.length && values[0].join() === curr.join())\n            ), true);\n        }\n\n        return attributes;\n    }, [products]);\n    const differentAttributes = useMemo(() => attributes.filter((x) => !x.sameValues), [attributes]);\n    const currentAttributes = show === 'all' ? attributes : differentAttributes;\n\n    if (compare.items.length === 0) {\n        return (\n            <React.Fragment>\n                <PageTitle>{intl.formatMessage({ id: 'HEADER_COMPARE' })}</PageTitle>\n\n                <BlockHeader\n                    breadcrumb={[\n                        { title: intl.formatMessage({ id: 'LINK_HOME' }), url: '/' },\n                        { title: intl.formatMessage({ id: 'LINK_COMPARE' }), url: '' },\n                    ]}\n                />\n\n                <div className=\"block-empty\">\n                    <div className=\"container\">\n                        <div className=\"block-empty__body\">\n                            <h1 className=\"block-empty__title\">\n                                <FormattedMessage id=\"HEADER_COMPARE_EMPTY_TITLE\" />\n                            </h1>\n                            <div\n                                className=\"block-empty__message\"\n                                dangerouslySetInnerHTML={{\n                                    __html: intl.formatMessage({ id: 'HEADER_COMPARE_EMPTY_SUBTITLE' }),\n                                }}\n                            />\n                            <div className=\"block-empty__action\">\n                                <AppLink href={url.home()} className=\"btn btn-primary btn-sm\">\n                                    <FormattedMessage id=\"BUTTON_GO_TO_HOMEPAGE\" />\n                                </AppLink>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <BlockSpace layout=\"before-footer\" />\n            </React.Fragment>\n        );\n    }\n\n    const tbody = (\n        <tbody>\n            <tr className=\"compare-table__row\">\n                <th className=\"compare-table__column compare-table__column--header\">\n                    <FormattedMessage id=\"TABLE_PRODUCT\" />\n                </th>\n                {compare.items.map((product) => (\n                    <td key={product.id} className=\"compare-table__column compare-table__column--product\">\n                        <AppLink href={url.product(product)} className=\"compare-table__product\">\n                            <div className=\"compare-table__product-image image image--type--product\">\n                                <div className=\"image__body\">\n                                    <AppImage className=\"image__tag\" src={product.images && product.images[0]} />\n                                </div>\n                            </div>\n                            <div className=\"compare-table__product-name\">\n                                {product.name}\n                            </div>\n                        </AppLink>\n                    </td>\n                ))}\n                <td className=\"compare-table__column compare-table__column--fake\" />\n            </tr>\n            <tr className=\"compare-table__row\">\n                <th className=\"compare-table__column compare-table__column--header\">\n                    <FormattedMessage id=\"TABLE_RATING\" />\n                </th>\n                {compare.items.map((product) => (\n                    <td key={product.id} className=\"compare-table__column compare-table__column--product\">\n                        <div className=\"compare-table__rating\">\n                            <div className=\"compare-table__rating-stars\">\n                                <Rating value={product.rating || 0} />\n                            </div>\n                            <div className=\"compare-table__rating-title\">\n                                <FormattedMessage\n                                    id=\"TEXT_RATING_LABEL\"\n                                    values={{ rating: product.rating, reviews: product.reviews }}\n                                />\n                            </div>\n                        </div>\n                    </td>\n                ))}\n                <td className=\"compare-table__column compare-table__column--fake\" />\n            </tr>\n            <tr className=\"compare-table__row\">\n                <th className=\"compare-table__column compare-table__column--header\">\n                    <FormattedMessage id=\"TABLE_STOCK_STATUS\" />\n                </th>\n                {compare.items.map((product) => (\n                    <td key={product.id} className=\"compare-table__column compare-table__column--product\">\n                        <StockStatusBadge\n                            stock={product.stock}\n                            className=\"product__stock\"\n                        />\n                    </td>\n                ))}\n                <td className=\"compare-table__column compare-table__column--fake\" />\n            </tr>\n            <tr className=\"compare-table__row\">\n                <th className=\"compare-table__column compare-table__column--header\">\n                    <FormattedMessage id=\"TABLE_PRICE\" />\n                </th>\n                {compare.items.map((product) => (\n                    <td key={product.id} className=\"compare-table__column compare-table__column--product\">\n                        <CurrencyFormat value={product.price} />\n                    </td>\n                ))}\n                <td className=\"compare-table__column compare-table__column--fake\" />\n            </tr>\n            <tr className=\"compare-table__row\">\n                <th className=\"compare-table__column compare-table__column--header\">\n                    <span className=\"sr-only\">\n                        <FormattedMessage id=\"TABLE_ADD_TO_CART\" />\n                    </span>\n                </th>\n                {compare.items.map((product) => (\n                    <td key={product.id} className=\"compare-table__column compare-table__column--product\">\n                        <AsyncAction\n                            action={() => cartAddItem(product)}\n                            render={({ run, loading }) => (\n                                <button\n                                    type=\"button\"\n                                    className={classNames('btn btn-sm btn-primary', {\n                                        'btn-loading': loading,\n                                    })}\n                                    onClick={run}\n                                >\n                                    <FormattedMessage id=\"BUTTON_ADD_TO_CART\" />\n                                </button>\n                            )}\n                        />\n                    </td>\n                ))}\n                <td className=\"compare-table__column compare-table__column--fake\" />\n            </tr>\n            <tr className=\"compare-table__row\">\n                <th className=\"compare-table__column compare-table__column--header\">\n                    <FormattedMessage id=\"TABLE_SKU\" />\n                </th>\n                {compare.items.map((product) => (\n                    <td key={product.id} className=\"compare-table__column compare-table__column--product\">\n                        {product.sku}\n                    </td>\n                ))}\n                <td className=\"compare-table__column compare-table__column--fake\" />\n            </tr>\n            {currentAttributes.map((attribute, index) => (\n                <tr key={index} className=\"compare-table__row\">\n                    <th className=\"compare-table__column compare-table__column--header\">\n                        {attribute.name}\n                    </th>\n                    {compare.items.map((product) => (\n                        <td key={product.id} className=\"compare-table__column compare-table__column--product\">\n                            {attribute.values[product.id]?.length > 0 && (\n                                attribute.values[product.id].map((value) => value.name).join(', ')\n                            )}\n                            {attribute.values[product.id]?.length === 0 && '—'}\n                        </td>\n                    ))}\n                    <td className=\"compare-table__column compare-table__column--fake\" />\n                </tr>\n            ))}\n            <tr className=\"compare-table__row\">\n                <th className=\"compare-table__column compare-table__column--header\">\n                    <span className=\"sr-only\">\n                        <FormattedMessage id=\"TABLE_REMOVE\" />\n                    </span>\n                </th>\n                {compare.items.map((product) => (\n                    <td key={product.id} className=\"compare-table__column compare-table__column--product\">\n                        <AsyncAction\n                            action={() => compareRemoveItem(product.id)}\n                            render={({ run, loading }) => (\n                                <button\n                                    type=\"button\"\n                                    className={classNames('btn', 'btn-sm', 'btn-secondary', {\n                                        'btn-loading': loading,\n                                    })}\n                                    onClick={run}\n                                >\n                                    <FormattedMessage id=\"BUTTON_REMOVE\" />\n                                </button>\n                            )}\n                        />\n                    </td>\n                ))}\n                <td className=\"compare-table__column compare-table__column--fake\" />\n            </tr>\n        </tbody>\n    );\n\n    return (\n        <React.Fragment>\n            <PageTitle>{intl.formatMessage({ id: 'HEADER_COMPARE' })}</PageTitle>\n\n            <BlockHeader\n                pageTitle={<FormattedMessage id=\"HEADER_COMPARE\" />}\n                breadcrumb={[\n                    { title: intl.formatMessage({ id: 'LINK_HOME' }), url: '/' },\n                    { title: intl.formatMessage({ id: 'LINK_COMPARE' }), url: '' },\n                ]}\n            />\n\n            <div className=\"block\">\n                <div className=\"container\">\n                    <div className=\"compare card\">\n                        <div className=\"compare__options-list\">\n                            <div className=\"compare__option\">\n                                <div className=\"compare__option-label\">\n                                    <FormattedMessage id=\"INPUT_SHOW_LABEL\" />\n                                    :\n                                </div>\n                                <div className=\"compare__option-control\">\n                                    <div className=\"button-toggle\">\n                                        <div className=\"button-toggle__list\">\n                                            <label className=\"button-toggle__item\">\n                                                <input\n                                                    type=\"radio\"\n                                                    className=\"button-toggle__input\"\n                                                    name=\"compare-filter\"\n                                                    value=\"all\"\n                                                    checked={show === 'all'}\n                                                    onChange={() => setShow('all')}\n                                                />\n                                                <span className=\"button-toggle__button\">\n                                                    <FormattedMessage id=\"INPUT_SHOW_OPTION_ALL\" />\n                                                </span>\n                                            </label>\n                                            <label className=\"button-toggle__item\">\n                                                <input\n                                                    type=\"radio\"\n                                                    className=\"button-toggle__input\"\n                                                    name=\"compare-filter\"\n                                                    value=\"different\"\n                                                    checked={show === 'different'}\n                                                    onChange={() => setShow('different')}\n                                                />\n                                                <span className=\"button-toggle__button\">\n                                                    <FormattedMessage id=\"INPUT_SHOW_OPTION_DIFFERENT\" />\n                                                </span>\n                                            </label>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"compare__option\">\n                                <div className=\"compare__option-control\">\n                                    <AsyncAction\n                                        action={compareClear}\n                                        render={({ run, loading }) => (\n                                            <button\n                                                type=\"button\"\n                                                className={classNames('btn', 'btn-secondary', 'btn-xs', {\n                                                    'btn-loading': loading,\n                                                })}\n                                                onClick={run}\n                                            >\n                                                <FormattedMessage id=\"BUTTON_CLEAR_LIST\" />\n                                            </button>\n                                        )}\n                                    />\n\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className=\"table-responsive\">\n                            <table className=\"compare__table compare-table\">\n                                {tbody}\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <BlockSpace layout=\"before-footer\" />\n        </React.Fragment>\n    );\n}\n\nexport default Page;\n"]},"metadata":{},"sourceType":"module"}