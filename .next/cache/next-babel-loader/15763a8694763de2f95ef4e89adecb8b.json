{"ast":null,"code":"// third-party\nimport thunk from 'redux-thunk';\nimport { applyMiddleware, createStore } from 'redux';\nimport { createWrapper } from 'next-redux-wrapper'; // application\n\nimport rootReducer from '~/store/root/rootReducer';\nimport version from '~/store/version';\nvar STORAGE_KEY = 'red-parts/react';\nexport var save = function save(state) {\n  try {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(state));\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.error(error);\n  }\n};\nexport var load = function load() {\n  if (!true) {\n    return undefined;\n  }\n\n  var state;\n\n  try {\n    state = localStorage.getItem(STORAGE_KEY);\n\n    if (typeof state === 'string') {\n      state = JSON.parse(state);\n    }\n\n    if (state && state.version !== version) {\n      state = undefined;\n    }\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.error(error);\n  }\n\n  return state || undefined;\n};\n\nvar bindMiddleware = function bindMiddleware() {\n  if (true) {\n    // eslint-disable-next-line global-require\n    var _require = require('redux-devtools-extension'),\n        composeWithDevTools = _require.composeWithDevTools;\n\n    return composeWithDevTools(applyMiddleware.apply(void 0, arguments));\n  }\n\n  return applyMiddleware.apply(void 0, arguments);\n};\n\nvar makeStore = function makeStore() {\n  return createStore(rootReducer, bindMiddleware(thunk));\n};\n\nexport var wrapper = createWrapper(makeStore);","map":{"version":3,"sources":["C:/Users/Shbaita Studio/Documents/project/new1/themeforest-irsnufCS-redparts-auto-parts-react-ecommerce-template/Sources/src/store/store.ts"],"names":["thunk","applyMiddleware","createStore","createWrapper","rootReducer","version","STORAGE_KEY","save","state","localStorage","setItem","JSON","stringify","error","console","load","undefined","getItem","parse","bindMiddleware","require","composeWithDevTools","makeStore","wrapper"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,aAAlB;AACA,SAASC,eAAT,EAA0BC,WAA1B,QAAyD,OAAzD;AACA,SAASC,aAAT,QAAyC,oBAAzC,C,CACA;;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,OAAP,MAAoB,iBAApB;AAIA,IAAMC,WAAW,GAAG,iBAApB;AAEA,OAAO,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAACC,KAAD,EAAgB;AAChC,MAAI;AACAC,IAAAA,YAAY,CAACC,OAAb,CAAqBJ,WAArB,EAAkCK,IAAI,CAACC,SAAL,CAAeJ,KAAf,CAAlC;AACH,GAFD,CAEE,OAAOK,KAAP,EAAc;AACZ;AACAC,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACH;AACJ,CAPM;AASP,OAAO,IAAME,IAAI,GAAG,SAAPA,IAAO,GAAM;AACtB,MAAI,KAAJ,EAAsB;AAClB,WAAOC,SAAP;AACH;;AAED,MAAIR,KAAJ;;AAEA,MAAI;AACAA,IAAAA,KAAK,GAAGC,YAAY,CAACQ,OAAb,CAAqBX,WAArB,CAAR;;AAEA,QAAI,OAAOE,KAAP,KAAiB,QAArB,EAA+B;AAC3BA,MAAAA,KAAK,GAAGG,IAAI,CAACO,KAAL,CAAWV,KAAX,CAAR;AACH;;AAED,QAAIA,KAAK,IAAIA,KAAK,CAACH,OAAN,KAAkBA,OAA/B,EAAwC;AACpCG,MAAAA,KAAK,GAAGQ,SAAR;AACH;AACJ,GAVD,CAUE,OAAOH,KAAP,EAAc;AACZ;AACAC,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACH;;AAED,SAAOL,KAAK,IAAIQ,SAAhB;AACH,CAvBM;;AAyBP,IAAMG,cAAc,GAAG,SAAjBA,cAAiB,GAAiC;AACpD,YAA2C;AACvC;AADuC,mBAEPC,OAAO,CAAC,0BAAD,CAFA;AAAA,QAE/BC,mBAF+B,YAE/BA,mBAF+B;;AAIvC,WAAOA,mBAAmB,CAACpB,eAAe,MAAf,mBAAD,CAA1B;AACH;;AAED,SAAOA,eAAe,MAAf,mBAAP;AACH,CATD;;AAWA,IAAMqB,SAAgC,GAAG,SAAnCA,SAAmC;AAAA,SACrCpB,WAAW,CAACE,WAAD,EAAce,cAAc,CAACnB,KAAD,CAA5B,CAD0B;AAAA,CAAzC;;AAIA,OAAO,IAAMuB,OAAO,GAAGpB,aAAa,CAAamB,SAAb,CAA7B","sourcesContent":["// third-party\nimport thunk from 'redux-thunk';\nimport { applyMiddleware, createStore, Middleware } from 'redux';\nimport { createWrapper, MakeStore } from 'next-redux-wrapper';\n// application\nimport rootReducer from '~/store/root/rootReducer';\nimport version from '~/store/version';\nimport { FirstArgType } from '~/store/types';\nimport { IRootState } from '~/store/root/rootTypes';\n\nconst STORAGE_KEY = 'red-parts/react';\n\nexport const save = (state: any) => {\n    try {\n        localStorage.setItem(STORAGE_KEY, JSON.stringify(state));\n    } catch (error) {\n        // eslint-disable-next-line no-console\n        console.error(error);\n    }\n};\n\nexport const load = () => {\n    if (!process.browser) {\n        return undefined;\n    }\n\n    let state;\n\n    try {\n        state = localStorage.getItem(STORAGE_KEY);\n\n        if (typeof state === 'string') {\n            state = JSON.parse(state);\n        }\n\n        if (state && state.version !== version) {\n            state = undefined;\n        }\n    } catch (error) {\n        // eslint-disable-next-line no-console\n        console.error(error);\n    }\n\n    return state || undefined;\n};\n\nconst bindMiddleware = (...middleware: Middleware[]) => {\n    if (process.env.NODE_ENV !== 'production') {\n        // eslint-disable-next-line global-require\n        const { composeWithDevTools } = require('redux-devtools-extension');\n\n        return composeWithDevTools(applyMiddleware(...middleware));\n    }\n\n    return applyMiddleware(...middleware);\n};\n\nconst makeStore: MakeStore<IRootState> = () => (\n    createStore(rootReducer, bindMiddleware(thunk))\n);\n\nexport const wrapper = createWrapper<IRootState>(makeStore);\n\nexport type GetServerSidePropsContext = FirstArgType<FirstArgType<typeof wrapper.getServerSideProps>>\n"]},"metadata":{},"sourceType":"module"}