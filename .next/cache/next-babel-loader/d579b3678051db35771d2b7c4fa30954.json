{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shbaita Studio\\\\Documents\\\\project\\\\new1\\\\themeforest-irsnufCS-redparts-auto-parts-react-ecommerce-template\\\\Sources\\\\src\\\\components\\\\blocks\\\\BlockProductsCarousel.tsx\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n// react\nimport React, { useMemo, useRef } from 'react'; // third-party\n\nimport classNames from 'classnames';\n// application\nimport AppSlick from '~/components/shared/AppSlick';\nimport ProductCard from '~/components/shared/ProductCard';\nimport SectionHeader from '~/components/shared/SectionHeader';\nconst productCardLayoutMap = {\n  'grid-4': 'grid',\n  'grid-4-sidebar': 'grid',\n  'grid-5': 'grid',\n  'grid-6': 'grid',\n  horizontal: 'horizontal',\n  'horizontal-sidebar': 'horizontal'\n};\nconst productCardExcludeMap = {\n  grid: ['features', 'list-buttons'],\n  list: [],\n  horizontal: ['actions', 'status-badge', 'features', 'buttons', 'meta'],\n  table: []\n};\nconst slickSettings = {\n  'grid-4': {\n    dots: false,\n    arrows: false,\n    infinite: true,\n    speed: 400,\n    slidesToShow: 4,\n    slidesToScroll: 4,\n    responsive: [{\n      breakpoint: 991,\n      settings: {\n        slidesToShow: 3,\n        slidesToScroll: 3\n      }\n    }, {\n      breakpoint: 767,\n      settings: {\n        slidesToShow: 2,\n        slidesToScroll: 2\n      }\n    }, {\n      breakpoint: 459,\n      settings: {\n        slidesToShow: 1,\n        slidesToScroll: 1\n      }\n    }]\n  },\n  'grid-4-sidebar': {\n    dots: false,\n    arrows: false,\n    infinite: true,\n    speed: 400,\n    slidesToShow: 4,\n    slidesToScroll: 4,\n    responsive: [{\n      breakpoint: 1399,\n      settings: {\n        slidesToShow: 3,\n        slidesToScroll: 3\n      }\n    }, {\n      breakpoint: 767,\n      settings: {\n        slidesToShow: 2,\n        slidesToScroll: 2\n      }\n    }, {\n      breakpoint: 459,\n      settings: {\n        slidesToShow: 1,\n        slidesToScroll: 1\n      }\n    }]\n  },\n  'grid-5': {\n    dots: false,\n    arrows: false,\n    infinite: true,\n    speed: 400,\n    slidesToShow: 5,\n    slidesToScroll: 5,\n    responsive: [{\n      breakpoint: 1399,\n      settings: {\n        slidesToShow: 4,\n        slidesToScroll: 4\n      }\n    }, {\n      breakpoint: 991,\n      settings: {\n        slidesToShow: 3,\n        slidesToScroll: 3\n      }\n    }, {\n      breakpoint: 767,\n      settings: {\n        slidesToShow: 2,\n        slidesToScroll: 2\n      }\n    }, {\n      breakpoint: 459,\n      settings: {\n        slidesToShow: 1,\n        slidesToScroll: 1\n      }\n    }]\n  },\n  'grid-6': {\n    dots: false,\n    arrows: false,\n    infinite: true,\n    speed: 400,\n    slidesToShow: 6,\n    slidesToScroll: 6,\n    responsive: [{\n      breakpoint: 1399,\n      settings: {\n        slidesToShow: 4,\n        slidesToScroll: 4\n      }\n    }, {\n      breakpoint: 991,\n      settings: {\n        slidesToShow: 3,\n        slidesToScroll: 3\n      }\n    }, {\n      breakpoint: 767,\n      settings: {\n        slidesToShow: 2,\n        slidesToScroll: 2\n      }\n    }, {\n      breakpoint: 459,\n      settings: {\n        slidesToShow: 1,\n        slidesToScroll: 1\n      }\n    }]\n  },\n  horizontal: {\n    dots: false,\n    arrows: false,\n    infinite: true,\n    speed: 400,\n    slidesToShow: 4,\n    slidesToScroll: 4,\n    responsive: [{\n      breakpoint: 1399,\n      settings: {\n        slidesToShow: 3,\n        slidesToScroll: 3\n      }\n    }, {\n      breakpoint: 991,\n      settings: {\n        slidesToShow: 2,\n        slidesToScroll: 2\n      }\n    }, {\n      breakpoint: 767,\n      settings: {\n        slidesToShow: 1,\n        slidesToScroll: 1\n      }\n    }]\n  },\n  'horizontal-sidebar': {\n    dots: false,\n    arrows: false,\n    infinite: true,\n    speed: 400,\n    slidesToShow: 3,\n    slidesToScroll: 3,\n    responsive: [{\n      breakpoint: 1399,\n      settings: {\n        slidesToShow: 2,\n        slidesToScroll: 2\n      }\n    }, {\n      breakpoint: 767,\n      settings: {\n        slidesToShow: 1,\n        slidesToScroll: 1\n      }\n    }]\n  }\n};\n\nfunction BlockProductsCarousel(props) {\n  const {\n    blockTitle,\n    products,\n    layout,\n    groups,\n    currentGroup,\n    links,\n    rows = 1,\n    loading = false,\n    onChangeGroup\n  } = props;\n  const slickRef = useRef(null);\n\n  const handleNextClick = () => {\n    if (slickRef.current) {\n      slickRef.current.slickNext();\n    }\n  };\n\n  const handlePrevClick = () => {\n    if (slickRef.current) {\n      slickRef.current.slickPrev();\n    }\n  };\n\n  const columns = useMemo(() => {\n    const result = [];\n\n    if (rows > 0) {\n      const productsQueue = products.slice();\n\n      while (productsQueue.length > 0) {\n        result.push(productsQueue.splice(0, rows));\n      }\n    }\n\n    return result;\n  }, [rows, products]);\n  const carousel = useMemo(() => {\n    const productCardLayout = productCardLayoutMap[layout];\n    const productCardExclude = productCardExcludeMap[productCardLayout];\n    return __jsx(AppSlick, _extends({\n      ref: slickRef\n    }, slickSettings[layout], {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 13\n      }\n    }), columns.map((column, columnIdx) => __jsx(\"div\", {\n      key: columnIdx,\n      className: \"block-products-carousel__column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 21\n      }\n    }, column.map((product, productIdx) => __jsx(ProductCard, {\n      key: productIdx,\n      className: \"block-products-carousel__cell\",\n      product: product,\n      layout: productCardLayout,\n      exclude: productCardExclude,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 29\n      }\n    })))));\n  }, [columns, layout]);\n  return __jsx(\"div\", {\n    className: \"block block-products-carousel\",\n    \"data-layout\": layout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }\n  }, __jsx(SectionHeader, {\n    sectionTitle: blockTitle,\n    arrows: true,\n    groups: groups,\n    currentGroup: currentGroup,\n    links: links,\n    onNext: handleNextClick,\n    onPrev: handlePrevClick,\n    onChangeGroup: onChangeGroup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 17\n    }\n  }), __jsx(\"div\", {\n    className: classNames('block-products-carousel__carousel', {\n      'block-products-carousel__carousel--loading': loading,\n      'block-products-carousel__carousel--has-items': columns.length > 0\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"block-products-carousel__carousel-loader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 21\n    }\n  }), carousel)));\n}\n\nexport default React.memo(BlockProductsCarousel);","map":{"version":3,"sources":["C:/Users/Shbaita Studio/Documents/project/new1/themeforest-irsnufCS-redparts-auto-parts-react-ecommerce-template/Sources/src/components/blocks/BlockProductsCarousel.tsx"],"names":["React","useMemo","useRef","classNames","AppSlick","ProductCard","SectionHeader","productCardLayoutMap","horizontal","productCardExcludeMap","grid","list","table","slickSettings","dots","arrows","infinite","speed","slidesToShow","slidesToScroll","responsive","breakpoint","settings","BlockProductsCarousel","props","blockTitle","products","layout","groups","currentGroup","links","rows","loading","onChangeGroup","slickRef","handleNextClick","current","slickNext","handlePrevClick","slickPrev","columns","result","productsQueue","slice","length","push","splice","carousel","productCardLayout","productCardExclude","map","column","columnIdx","product","productIdx","memo"],"mappings":"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","sourcesContent":["// react\nimport React, { useMemo, useRef } from 'react';\n// third-party\nimport classNames from 'classnames';\nimport Slick from 'react-slick';\n// application\nimport AppSlick, { ISlickProps } from '~/components/shared/AppSlick';\nimport ProductCard, { IProductCardElement, IProductCardLayout } from '~/components/shared/ProductCard';\nimport SectionHeader, { ISectionHeaderGroup } from '~/components/shared/SectionHeader';\nimport { ILink } from '~/interfaces/link';\nimport { IProduct } from '~/interfaces/product';\n\nexport type IBlockProductsCarouselLayout =\n    'grid-4' |\n    'grid-4-sidebar' |\n    'grid-5' |\n    'grid-6' |\n    'horizontal' |\n    'horizontal-sidebar';\n\ninterface Props<T extends ISectionHeaderGroup> {\n    blockTitle: React.ReactNode;\n    products: IProduct[];\n    layout: IBlockProductsCarouselLayout;\n    groups?: T[];\n    currentGroup?: T;\n    links?: ILink[];\n    rows?: number;\n    loading?: boolean;\n    onChangeGroup?: (group: T) => void;\n}\n\nconst productCardLayoutMap: Record<IBlockProductsCarouselLayout, IProductCardLayout> = {\n    'grid-4': 'grid',\n    'grid-4-sidebar': 'grid',\n    'grid-5': 'grid',\n    'grid-6': 'grid',\n    horizontal: 'horizontal',\n    'horizontal-sidebar': 'horizontal',\n};\n\nconst productCardExcludeMap: Record<IProductCardLayout, IProductCardElement[]> = {\n    grid: ['features', 'list-buttons'],\n    list: [],\n    horizontal: ['actions', 'status-badge', 'features', 'buttons', 'meta'],\n    table: [],\n};\n\nconst slickSettings: Record<IBlockProductsCarouselLayout, ISlickProps> = {\n    'grid-4': {\n        dots: false,\n        arrows: false,\n        infinite: true,\n        speed: 400,\n        slidesToShow: 4,\n        slidesToScroll: 4,\n        responsive: [\n            { breakpoint: 991, settings: { slidesToShow: 3, slidesToScroll: 3 } },\n            { breakpoint: 767, settings: { slidesToShow: 2, slidesToScroll: 2 } },\n            { breakpoint: 459, settings: { slidesToShow: 1, slidesToScroll: 1 } },\n        ],\n    },\n    'grid-4-sidebar': {\n        dots: false,\n        arrows: false,\n        infinite: true,\n        speed: 400,\n        slidesToShow: 4,\n        slidesToScroll: 4,\n        responsive: [\n            { breakpoint: 1399, settings: { slidesToShow: 3, slidesToScroll: 3 } },\n            { breakpoint: 767, settings: { slidesToShow: 2, slidesToScroll: 2 } },\n            { breakpoint: 459, settings: { slidesToShow: 1, slidesToScroll: 1 } },\n        ],\n    },\n    'grid-5': {\n        dots: false,\n        arrows: false,\n        infinite: true,\n        speed: 400,\n        slidesToShow: 5,\n        slidesToScroll: 5,\n        responsive: [\n            { breakpoint: 1399, settings: { slidesToShow: 4, slidesToScroll: 4 } },\n            { breakpoint: 991, settings: { slidesToShow: 3, slidesToScroll: 3 } },\n            { breakpoint: 767, settings: { slidesToShow: 2, slidesToScroll: 2 } },\n            { breakpoint: 459, settings: { slidesToShow: 1, slidesToScroll: 1 } },\n        ],\n    },\n    'grid-6': {\n        dots: false,\n        arrows: false,\n        infinite: true,\n        speed: 400,\n        slidesToShow: 6,\n        slidesToScroll: 6,\n        responsive: [\n            { breakpoint: 1399, settings: { slidesToShow: 4, slidesToScroll: 4 } },\n            { breakpoint: 991, settings: { slidesToShow: 3, slidesToScroll: 3 } },\n            { breakpoint: 767, settings: { slidesToShow: 2, slidesToScroll: 2 } },\n            { breakpoint: 459, settings: { slidesToShow: 1, slidesToScroll: 1 } },\n        ],\n    },\n    horizontal: {\n        dots: false,\n        arrows: false,\n        infinite: true,\n        speed: 400,\n        slidesToShow: 4,\n        slidesToScroll: 4,\n        responsive: [\n            { breakpoint: 1399, settings: { slidesToShow: 3, slidesToScroll: 3 } },\n            { breakpoint: 991, settings: { slidesToShow: 2, slidesToScroll: 2 } },\n            { breakpoint: 767, settings: { slidesToShow: 1, slidesToScroll: 1 } },\n        ],\n    },\n    'horizontal-sidebar': {\n        dots: false,\n        arrows: false,\n        infinite: true,\n        speed: 400,\n        slidesToShow: 3,\n        slidesToScroll: 3,\n        responsive: [\n            { breakpoint: 1399, settings: { slidesToShow: 2, slidesToScroll: 2 } },\n            { breakpoint: 767, settings: { slidesToShow: 1, slidesToScroll: 1 } },\n        ],\n    },\n};\n\nfunction BlockProductsCarousel<T extends ISectionHeaderGroup>(props: Props<T>) {\n    const {\n        blockTitle,\n        products,\n        layout,\n        groups,\n        currentGroup,\n        links,\n        rows = 1,\n        loading = false,\n        onChangeGroup,\n    } = props;\n    const slickRef = useRef<Slick>(null);\n\n    const handleNextClick = () => {\n        if (slickRef.current) {\n            slickRef.current.slickNext();\n        }\n    };\n\n    const handlePrevClick = () => {\n        if (slickRef.current) {\n            slickRef.current.slickPrev();\n        }\n    };\n\n    const columns = useMemo(() => {\n        const result = [];\n\n        if (rows > 0) {\n            const productsQueue = products.slice();\n\n            while (productsQueue.length > 0) {\n                result.push(productsQueue.splice(0, rows));\n            }\n        }\n\n        return result;\n    }, [rows, products]);\n\n    const carousel = useMemo(() => {\n        const productCardLayout = productCardLayoutMap[layout];\n        const productCardExclude = productCardExcludeMap[productCardLayout];\n\n        return (\n            <AppSlick ref={slickRef} {...slickSettings[layout]}>\n                {columns.map((column, columnIdx) => (\n                    <div key={columnIdx} className=\"block-products-carousel__column\">\n                        {column.map((product, productIdx) => (\n                            <ProductCard\n                                key={productIdx}\n                                className=\"block-products-carousel__cell\"\n                                product={product}\n                                layout={productCardLayout}\n                                exclude={productCardExclude}\n                            />\n                        ))}\n                    </div>\n                ))}\n            </AppSlick>\n        );\n    }, [columns, layout]);\n\n    return (\n        <div className=\"block block-products-carousel\" data-layout={layout}>\n            <div className=\"container\">\n                <SectionHeader\n                    sectionTitle={blockTitle}\n                    arrows\n                    groups={groups}\n                    currentGroup={currentGroup}\n                    links={links}\n                    onNext={handleNextClick}\n                    onPrev={handlePrevClick}\n                    onChangeGroup={onChangeGroup}\n                />\n\n                <div\n                    className={classNames('block-products-carousel__carousel', {\n                        'block-products-carousel__carousel--loading': loading,\n                        'block-products-carousel__carousel--has-items': columns.length > 0,\n                    })}\n                >\n                    <div className=\"block-products-carousel__carousel-loader\" />\n\n                    {carousel}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default React.memo(BlockProductsCarousel) as typeof BlockProductsCarousel;\n"]},"metadata":{},"sourceType":"module"}