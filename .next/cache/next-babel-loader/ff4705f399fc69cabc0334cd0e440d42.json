{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shbaita Studio\\\\Documents\\\\project\\\\new1\\\\themeforest-irsnufCS-redparts-auto-parts-react-ecommerce-template\\\\Sources\\\\src\\\\components\\\\shared\\\\ProductCard.tsx\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n// react\nimport React from 'react'; // third-party\n\nimport classNames from 'classnames';\nimport { FormattedMessage, useIntl } from 'react-intl'; // application\n\nimport AppImage from '~/components/shared/AppImage';\nimport AppLink from '~/components/shared/AppLink';\nimport AsyncAction from '~/components/shared/AsyncAction';\nimport CompatibilityStatusBadge from '~/components/shared/CompatibilityStatusBadge';\nimport CurrencyFormat from '~/components/shared/CurrencyFormat';\nimport Rating from '~/components/shared/Rating';\nimport url from '~/services/url';\nimport { useCartAddItem } from '~/store/cart/cartHooks';\nimport { useCompareAddItem } from '~/store/compare/compareHooks';\nimport { useQuickviewOpen } from '~/store/quickview/quickviewHooks';\nimport { useWishlistAddItem } from '~/store/wishlist/wishlistHooks';\nimport { Cart20Svg, Compare16Svg, Quickview16Svg, Wishlist16Svg } from '~/svg';\n\nfunction ProductCard(props) {\n  const {\n    product,\n    layout,\n    exclude = [],\n    className\n  } = props,\n        rootProps = _objectWithoutProperties(props, [\"product\", \"layout\", \"exclude\", \"className\"]);\n\n  const intl = useIntl();\n  const featuredAttributes = product.attributes.filter(x => x.featured);\n  const cartAddItem = useCartAddItem();\n  const quickviewOpen = useQuickviewOpen();\n  const compareAddItem = useCompareAddItem();\n  const wishlistAddItem = useWishlistAddItem();\n\n  const showQuickview = () => quickviewOpen(product.slug);\n\n  const addToWishlist = () => wishlistAddItem(product);\n\n  const addToCompare = () => compareAddItem(product);\n\n  const rootClasses = classNames('product-card', className, {\n    [`product-card--layout--${layout}`]: layout\n  });\n  return __jsx(\"div\", _extends({\n    className: rootClasses\n  }, rootProps, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    className: \"product-card__actions-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, __jsx(AsyncAction, {\n    action: () => showQuickview(),\n    render: ({\n      run,\n      loading\n    }) => __jsx(\"button\", {\n      type: \"button\",\n      className: classNames('product-card__action product-card__action--quickview', {\n        'product-card__action--loading': loading\n      }),\n      \"aria-label\": intl.formatMessage({\n        id: 'BUTTON_QUICKVIEW'\n      }),\n      onClick: run,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 25\n      }\n    }, __jsx(Quickview16Svg, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 29\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }), !exclude.includes('actions') && __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, __jsx(AsyncAction, {\n    action: () => addToWishlist(),\n    render: ({\n      run,\n      loading\n    }) => __jsx(\"button\", {\n      type: \"button\",\n      className: classNames('product-card__action product-card__action--wishlist', {\n        'product-card__action--loading': loading\n      }),\n      \"aria-label\": intl.formatMessage({\n        id: 'BUTTON_ADD_TO_WISHLIST'\n      }),\n      onClick: run,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 33\n      }\n    }, __jsx(Wishlist16Svg, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 37\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 25\n    }\n  }), __jsx(AsyncAction, {\n    action: () => addToCompare(),\n    render: ({\n      run,\n      loading\n    }) => __jsx(\"button\", {\n      type: \"button\",\n      className: classNames('product-card__action product-card__action--compare', {\n        'product-card__action--loading': loading\n      }),\n      \"aria-label\": intl.formatMessage({\n        id: 'BUTTON_ADD_TO_COMPARE'\n      }),\n      onClick: run,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 33\n      }\n    }, __jsx(Compare16Svg, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 37\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }))), __jsx(\"div\", {\n    className: \"product-card__image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"image image--type--product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }, __jsx(AppLink, {\n    href: url.product(product),\n    className: \"image__body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }, product.images && __jsx(AppImage, {\n    className: \"image__tag\",\n    src: product.images[0],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 44\n    }\n  }))), !exclude.includes('status-badge') && __jsx(CompatibilityStatusBadge, {\n    className: \"product-card__fit\",\n    product: product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 21\n    }\n  })), __jsx(\"div\", {\n    className: \"product-card__info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, !exclude.includes('meta') && __jsx(\"div\", {\n    className: \"product-card__meta\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    className: \"product-card__meta-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 25\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TEXT_SKU\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 29\n    }\n  }), ': '), product.sku), __jsx(\"div\", {\n    className: \"product-card__name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  }, product.badges && product.badges.length > 0 && __jsx(\"div\", {\n    className: \"product-card__badges\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 25\n    }\n  }, product.badges.map(badge => __jsx(\"div\", {\n    key: badge,\n    className: `tag-badge tag-badge--${badge}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 33\n    }\n  }, badge))), __jsx(AppLink, {\n    href: url.product(product),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 21\n    }\n  }, product.name)), __jsx(\"div\", {\n    className: \"product-card__rating\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 17\n    }\n  }, __jsx(Rating, {\n    className: \"product-card__rating-stars\",\n    value: product.rating || 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 21\n    }\n  }), __jsx(\"div\", {\n    className: \" product-card__rating-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 21\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TEXT_RATING_LABEL\",\n    values: {\n      rating: product.rating,\n      reviews: product.reviews\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 25\n    }\n  }))), !exclude.includes('features') && featuredAttributes.length > 0 && __jsx(\"div\", {\n    className: \"product-card__features\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 21\n    }\n  }, __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 25\n    }\n  }, featuredAttributes.map((attribute, index) => __jsx(\"li\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 33\n    }\n  }, attribute.name, ': ', attribute.values.map(x => x.name).join(', ')))))), __jsx(\"div\", {\n    className: \"product-card__footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"product-card__prices\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 17\n    }\n  }, product.compareAtPrice !== null && __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: \"product-card__price product-card__price--new\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 29\n    }\n  }, __jsx(CurrencyFormat, {\n    value: product.price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 33\n    }\n  })), __jsx(\"div\", {\n    className: \"product-card__price product-card__price--old\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 29\n    }\n  }, __jsx(CurrencyFormat, {\n    value: product.compareAtPrice,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 33\n    }\n  }))), product.compareAtPrice === null && __jsx(\"div\", {\n    className: \"product-card__price product-card__price--current\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 25\n    }\n  }, __jsx(CurrencyFormat, {\n    value: product.price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 29\n    }\n  }))), !exclude.includes('buttons') && __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 21\n    }\n  }, __jsx(AsyncAction, {\n    action: () => cartAddItem(product),\n    render: ({\n      run,\n      loading\n    }) => __jsx(\"button\", {\n      type: \"button\",\n      className: classNames('product-card__addtocart-icon', {\n        'product-card__addtocart-icon--loading': loading\n      }),\n      \"aria-label\": intl.formatMessage({\n        id: 'BUTTON_ADD_TO_CART'\n      }),\n      onClick: run,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 33\n      }\n    }, __jsx(Cart20Svg, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 37\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 25\n    }\n  }), !exclude.includes('list-buttons') && __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 29\n    }\n  }, __jsx(AsyncAction, {\n    action: () => cartAddItem(product),\n    render: ({\n      run,\n      loading\n    }) => __jsx(\"button\", {\n      type: \"button\",\n      className: classNames('product-card__addtocart-full', {\n        'product-card__addtocart-full--loading': loading\n      }),\n      onClick: run,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 41\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"BUTTON_ADD_TO_CART\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 45\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 33\n    }\n  }), __jsx(AsyncAction, {\n    action: () => addToWishlist(),\n    render: ({\n      run,\n      loading\n    }) => __jsx(\"button\", {\n      type: \"button\",\n      className: classNames('product-card__wishlist', {\n        'product-card__wishlist--loading': loading\n      }),\n      onClick: run,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 41\n      }\n    }, __jsx(Wishlist16Svg, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 45\n      }\n    }), __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 45\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"BUTTON_ADD_TO_WISHLIST\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 49\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 33\n    }\n  }), __jsx(AsyncAction, {\n    action: () => addToCompare(),\n    render: ({\n      run,\n      loading\n    }) => __jsx(\"button\", {\n      type: \"button\",\n      className: classNames('product-card__compare', {\n        'product-card__compare--loading': loading\n      }),\n      onClick: run,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 41\n      }\n    }, __jsx(Compare16Svg, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 45\n      }\n    }), __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 45\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"BUTTON_ADD_TO_COMPARE\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 49\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 33\n    }\n  })))));\n}\n\nexport default React.memo(ProductCard);","map":{"version":3,"sources":["C:/Users/Shbaita Studio/Documents/project/new1/themeforest-irsnufCS-redparts-auto-parts-react-ecommerce-template/Sources/src/components/shared/ProductCard.tsx"],"names":["React","classNames","FormattedMessage","useIntl","AppImage","AppLink","AsyncAction","CompatibilityStatusBadge","CurrencyFormat","Rating","url","useCartAddItem","useCompareAddItem","useQuickviewOpen","useWishlistAddItem","Cart20Svg","Compare16Svg","Quickview16Svg","Wishlist16Svg","ProductCard","props","product","layout","exclude","className","rootProps","intl","featuredAttributes","attributes","filter","x","featured","cartAddItem","quickviewOpen","compareAddItem","wishlistAddItem","showQuickview","slug","addToWishlist","addToCompare","rootClasses","run","loading","formatMessage","id","includes","images","sku","badges","length","map","badge","name","rating","reviews","attribute","index","values","join","compareAtPrice","price","memo"],"mappings":";;;;;;;;;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,gBAAT,EAA2BC,OAA3B,QAA0C,YAA1C,C,CACA;;AACA,OAAOC,QAAP,MAAqB,8BAArB;AACA,OAAOC,OAAP,MAAoB,6BAApB;AACA,OAAOC,WAAP,MAAwB,iCAAxB;AACA,OAAOC,wBAAP,MAAqC,8CAArC;AACA,OAAOC,cAAP,MAA2B,oCAA3B;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,GAAP,MAAgB,gBAAhB;AAEA,SAASC,cAAT,QAA+B,wBAA/B;AACA,SAASC,iBAAT,QAAkC,8BAAlC;AACA,SAASC,gBAAT,QAAiC,kCAAjC;AACA,SAASC,kBAAT,QAAmC,gCAAnC;AACA,SACIC,SADJ,EAEIC,YAFJ,EAGIC,cAHJ,EAIIC,aAJJ,QAKO,OALP;;AAiBA,SAASC,WAAT,CAAqBC,KAArB,EAAmC;AAC/B,QAAM;AACFC,IAAAA,OADE;AAEFC,IAAAA,MAFE;AAGFC,IAAAA,OAAO,GAAG,EAHR;AAIFC,IAAAA;AAJE,MAMFJ,KANJ;AAAA,QAKOK,SALP,4BAMIL,KANJ;;AAOA,QAAMM,IAAI,GAAGvB,OAAO,EAApB;AACA,QAAMwB,kBAAkB,GAAGN,OAAO,CAACO,UAAR,CAAmBC,MAAnB,CAA2BC,CAAD,IAAOA,CAAC,CAACC,QAAnC,CAA3B;AACA,QAAMC,WAAW,GAAGrB,cAAc,EAAlC;AACA,QAAMsB,aAAa,GAAGpB,gBAAgB,EAAtC;AACA,QAAMqB,cAAc,GAAGtB,iBAAiB,EAAxC;AACA,QAAMuB,eAAe,GAAGrB,kBAAkB,EAA1C;;AAEA,QAAMsB,aAAa,GAAG,MAAMH,aAAa,CAACZ,OAAO,CAACgB,IAAT,CAAzC;;AACA,QAAMC,aAAa,GAAG,MAAMH,eAAe,CAACd,OAAD,CAA3C;;AACA,QAAMkB,YAAY,GAAG,MAAML,cAAc,CAACb,OAAD,CAAzC;;AAEA,QAAMmB,WAAW,GAAGvC,UAAU,CAAC,cAAD,EAAiBuB,SAAjB,EAA4B;AACtD,KAAE,yBAAwBF,MAAO,EAAjC,GAAqCA;AADiB,GAA5B,CAA9B;AAIA,SACI;AAAK,IAAA,SAAS,EAAEkB;AAAhB,KAAiCf,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MACI;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,WAAD;AACI,IAAA,MAAM,EAAE,MAAMW,aAAa,EAD/B;AAEI,IAAA,MAAM,EAAE,CAAC;AAAEK,MAAAA,GAAF;AAAOC,MAAAA;AAAP,KAAD,KACJ;AACI,MAAA,IAAI,EAAC,QADT;AAEI,MAAA,SAAS,EAAEzC,UAAU,CAAC,sDAAD,EAAyD;AAC1E,yCAAiCyC;AADyC,OAAzD,CAFzB;AAKI,oBAAYhB,IAAI,CAACiB,aAAL,CAAmB;AAAEC,QAAAA,EAAE,EAAE;AAAN,OAAnB,CALhB;AAMI,MAAA,OAAO,EAAEH,GANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAQI,MAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARJ,CAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAiBK,CAAClB,OAAO,CAACsB,QAAR,CAAiB,SAAjB,CAAD,IACG,MAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,WAAD;AACI,IAAA,MAAM,EAAE,MAAMP,aAAa,EAD/B;AAEI,IAAA,MAAM,EAAE,CAAC;AAAEG,MAAAA,GAAF;AAAOC,MAAAA;AAAP,KAAD,KACJ;AACI,MAAA,IAAI,EAAC,QADT;AAEI,MAAA,SAAS,EAAEzC,UAAU,CAAC,qDAAD,EAAwD;AACzE,yCAAiCyC;AADwC,OAAxD,CAFzB;AAKI,oBAAYhB,IAAI,CAACiB,aAAL,CAAmB;AAAEC,QAAAA,EAAE,EAAE;AAAN,OAAnB,CALhB;AAMI,MAAA,OAAO,EAAEH,GANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAQI,MAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARJ,CAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAgBI,MAAC,WAAD;AACI,IAAA,MAAM,EAAE,MAAMF,YAAY,EAD9B;AAEI,IAAA,MAAM,EAAE,CAAC;AAAEE,MAAAA,GAAF;AAAOC,MAAAA;AAAP,KAAD,KACJ;AACI,MAAA,IAAI,EAAC,QADT;AAEI,MAAA,SAAS,EAAEzC,UAAU,CAAC,oDAAD,EAAuD;AACxE,yCAAiCyC;AADuC,OAAvD,CAFzB;AAKI,oBAAYhB,IAAI,CAACiB,aAAL,CAAmB;AAAEC,QAAAA,EAAE,EAAE;AAAN,OAAnB,CALhB;AAMI,MAAA,OAAO,EAAEH,GANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAQI,MAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARJ,CAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBJ,CAlBR,CADJ,EAsDI;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,OAAD;AAAS,IAAA,IAAI,EAAE/B,GAAG,CAACW,OAAJ,CAAYA,OAAZ,CAAf;AAAqC,IAAA,SAAS,EAAC,aAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKA,OAAO,CAACyB,MAAR,IAAkB,MAAC,QAAD;AAAU,IAAA,SAAS,EAAC,YAApB;AAAiC,IAAA,GAAG,EAAEzB,OAAO,CAACyB,MAAR,CAAe,CAAf,CAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADvB,CADJ,CADJ,EAOK,CAACvB,OAAO,CAACsB,QAAR,CAAiB,cAAjB,CAAD,IACG,MAAC,wBAAD;AAA0B,IAAA,SAAS,EAAC,mBAApC;AAAwD,IAAA,OAAO,EAAExB,OAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARR,CAtDJ,EAkEI;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK,CAACE,OAAO,CAACsB,QAAR,CAAiB,MAAjB,CAAD,IACG;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAM,IAAA,SAAS,EAAC,0BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,gBAAD;AAAkB,IAAA,EAAE,EAAC,UAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEK,IAFL,CADJ,EAKKxB,OAAO,CAAC0B,GALb,CAFR,EAWI;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK1B,OAAO,CAAC2B,MAAR,IAAkB3B,OAAO,CAAC2B,MAAR,CAAeC,MAAf,GAAwB,CAA1C,IACG;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK5B,OAAO,CAAC2B,MAAR,CAAeE,GAAf,CAAoBC,KAAD,IAChB;AAAK,IAAA,GAAG,EAAEA,KAAV;AAAiB,IAAA,SAAS,EAAG,wBAAuBA,KAAM,EAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA8DA,KAA9D,CADH,CADL,CAFR,EAQI,MAAC,OAAD;AAAS,IAAA,IAAI,EAAEzC,GAAG,CAACW,OAAJ,CAAYA,OAAZ,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsCA,OAAO,CAAC+B,IAA9C,CARJ,CAXJ,EAsBI;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,4BAAlB;AAA+C,IAAA,KAAK,EAAE/B,OAAO,CAACgC,MAAR,IAAkB,CAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAK,IAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,gBAAD;AACI,IAAA,EAAE,EAAC,mBADP;AAEI,IAAA,MAAM,EAAE;AACJA,MAAAA,MAAM,EAAEhC,OAAO,CAACgC,MADZ;AAEJC,MAAAA,OAAO,EAAEjC,OAAO,CAACiC;AAFb,KAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAFJ,CAtBJ,EAmCK,CAAC/B,OAAO,CAACsB,QAAR,CAAiB,UAAjB,CAAD,IAAiClB,kBAAkB,CAACsB,MAAnB,GAA4B,CAA7D,IACG;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKtB,kBAAkB,CAACuB,GAAnB,CAAuB,CAACK,SAAD,EAAYC,KAAZ,KACpB;AAAI,IAAA,GAAG,EAAEA,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKD,SAAS,CAACH,IADf,EAEK,IAFL,EAGKG,SAAS,CAACE,MAAV,CAAiBP,GAAjB,CAAsBpB,CAAD,IAAOA,CAAC,CAACsB,IAA9B,EAAoCM,IAApC,CAAyC,IAAzC,CAHL,CADH,CADL,CADJ,CApCR,CAlEJ,EAoHI;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKrC,OAAO,CAACsC,cAAR,KAA2B,IAA3B,IACG,MAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,8CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,cAAD;AAAgB,IAAA,KAAK,EAAEtC,OAAO,CAACuC,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,EAII;AAAK,IAAA,SAAS,EAAC,8CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,cAAD;AAAgB,IAAA,KAAK,EAAEvC,OAAO,CAACsC,cAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAJJ,CAFR,EAWKtC,OAAO,CAACsC,cAAR,KAA2B,IAA3B,IACG;AAAK,IAAA,SAAS,EAAC,kDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,cAAD;AAAgB,IAAA,KAAK,EAAEtC,OAAO,CAACuC,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAZR,CADJ,EAkBK,CAACrC,OAAO,CAACsB,QAAR,CAAiB,SAAjB,CAAD,IACG,MAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,WAAD;AACI,IAAA,MAAM,EAAE,MAAMb,WAAW,CAACX,OAAD,CAD7B;AAEI,IAAA,MAAM,EAAE,CAAC;AAAEoB,MAAAA,GAAF;AAAOC,MAAAA;AAAP,KAAD,KACJ;AACI,MAAA,IAAI,EAAC,QADT;AAEI,MAAA,SAAS,EAAEzC,UAAU,CAAC,8BAAD,EAAiC;AAClD,iDAAyCyC;AADS,OAAjC,CAFzB;AAKI,oBAAYhB,IAAI,CAACiB,aAAL,CAAmB;AAAEC,QAAAA,EAAE,EAAE;AAAN,OAAnB,CALhB;AAMI,MAAA,OAAO,EAAEH,GANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAQI,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARJ,CAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAgBK,CAAClB,OAAO,CAACsB,QAAR,CAAiB,cAAjB,CAAD,IACG,MAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,WAAD;AACI,IAAA,MAAM,EAAE,MAAMb,WAAW,CAACX,OAAD,CAD7B;AAEI,IAAA,MAAM,EAAE,CAAC;AAAEoB,MAAAA,GAAF;AAAOC,MAAAA;AAAP,KAAD,KACJ;AACI,MAAA,IAAI,EAAC,QADT;AAEI,MAAA,SAAS,EAAEzC,UAAU,CAAC,8BAAD,EAAiC;AAClD,iDAAyCyC;AADS,OAAjC,CAFzB;AAKI,MAAA,OAAO,EAAED,GALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOI,MAAC,gBAAD;AAAkB,MAAA,EAAE,EAAC,oBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPJ,CAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAeI,MAAC,WAAD;AACI,IAAA,MAAM,EAAE,MAAMH,aAAa,EAD/B;AAEI,IAAA,MAAM,EAAE,CAAC;AAAEG,MAAAA,GAAF;AAAOC,MAAAA;AAAP,KAAD,KACJ;AACI,MAAA,IAAI,EAAC,QADT;AAEI,MAAA,SAAS,EAAEzC,UAAU,CAAC,wBAAD,EAA2B;AAC5C,2CAAmCyC;AADS,OAA3B,CAFzB;AAKI,MAAA,OAAO,EAAED,GALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOI,MAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPJ,EAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,MAAC,gBAAD;AAAkB,MAAA,EAAE,EAAC,wBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CARJ,CAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAfJ,EAgCI,MAAC,WAAD;AACI,IAAA,MAAM,EAAE,MAAMF,YAAY,EAD9B;AAEI,IAAA,MAAM,EAAE,CAAC;AAAEE,MAAAA,GAAF;AAAOC,MAAAA;AAAP,KAAD,KACJ;AACI,MAAA,IAAI,EAAC,QADT;AAEI,MAAA,SAAS,EAAEzC,UAAU,CAAC,uBAAD,EAA0B;AAC3C,0CAAkCyC;AADS,OAA1B,CAFzB;AAKI,MAAA,OAAO,EAAED,GALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOI,MAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPJ,EAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,MAAC,gBAAD;AAAkB,MAAA,EAAE,EAAC,uBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CARJ,CAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhCJ,CAjBR,CAnBR,CApHJ,CADJ;AAiNH;;AAED,eAAezC,KAAK,CAAC6D,IAAN,CAAW1C,WAAX,CAAf","sourcesContent":["// react\nimport React from 'react';\n// third-party\nimport classNames from 'classnames';\nimport { FormattedMessage, useIntl } from 'react-intl';\n// application\nimport AppImage from '~/components/shared/AppImage';\nimport AppLink from '~/components/shared/AppLink';\nimport AsyncAction from '~/components/shared/AsyncAction';\nimport CompatibilityStatusBadge from '~/components/shared/CompatibilityStatusBadge';\nimport CurrencyFormat from '~/components/shared/CurrencyFormat';\nimport Rating from '~/components/shared/Rating';\nimport url from '~/services/url';\nimport { IProduct } from '~/interfaces/product';\nimport { useCartAddItem } from '~/store/cart/cartHooks';\nimport { useCompareAddItem } from '~/store/compare/compareHooks';\nimport { useQuickviewOpen } from '~/store/quickview/quickviewHooks';\nimport { useWishlistAddItem } from '~/store/wishlist/wishlistHooks';\nimport {\n    Cart20Svg,\n    Compare16Svg,\n    Quickview16Svg,\n    Wishlist16Svg,\n} from '~/svg';\n\nexport type IProductCardElement = 'actions' | 'status-badge' | 'meta' | 'features' | 'buttons' | 'list-buttons';\n\nexport type IProductCardLayout = 'grid' | 'list' | 'table' | 'horizontal';\n\ninterface Props extends React.HTMLAttributes<HTMLElement> {\n    product: IProduct;\n    layout?: IProductCardLayout;\n    exclude?: IProductCardElement[];\n}\n\nfunction ProductCard(props: Props) {\n    const {\n        product,\n        layout,\n        exclude = [],\n        className,\n        ...rootProps\n    } = props;\n    const intl = useIntl();\n    const featuredAttributes = product.attributes.filter((x) => x.featured);\n    const cartAddItem = useCartAddItem();\n    const quickviewOpen = useQuickviewOpen();\n    const compareAddItem = useCompareAddItem();\n    const wishlistAddItem = useWishlistAddItem();\n\n    const showQuickview = () => quickviewOpen(product.slug);\n    const addToWishlist = () => wishlistAddItem(product);\n    const addToCompare = () => compareAddItem(product);\n\n    const rootClasses = classNames('product-card', className, {\n        [`product-card--layout--${layout}`]: layout,\n    });\n\n    return (\n        <div className={rootClasses} {...rootProps}>\n            <div className=\"product-card__actions-list\">\n                <AsyncAction\n                    action={() => showQuickview()}\n                    render={({ run, loading }) => (\n                        <button\n                            type=\"button\"\n                            className={classNames('product-card__action product-card__action--quickview', {\n                                'product-card__action--loading': loading,\n                            })}\n                            aria-label={intl.formatMessage({ id: 'BUTTON_QUICKVIEW' })}\n                            onClick={run}\n                        >\n                            <Quickview16Svg />\n                        </button>\n                    )}\n                />\n\n                {!exclude.includes('actions') && (\n                    <React.Fragment>\n                        <AsyncAction\n                            action={() => addToWishlist()}\n                            render={({ run, loading }) => (\n                                <button\n                                    type=\"button\"\n                                    className={classNames('product-card__action product-card__action--wishlist', {\n                                        'product-card__action--loading': loading,\n                                    })}\n                                    aria-label={intl.formatMessage({ id: 'BUTTON_ADD_TO_WISHLIST' })}\n                                    onClick={run}\n                                >\n                                    <Wishlist16Svg />\n                                </button>\n                            )}\n                        />\n                        <AsyncAction\n                            action={() => addToCompare()}\n                            render={({ run, loading }) => (\n                                <button\n                                    type=\"button\"\n                                    className={classNames('product-card__action product-card__action--compare', {\n                                        'product-card__action--loading': loading,\n                                    })}\n                                    aria-label={intl.formatMessage({ id: 'BUTTON_ADD_TO_COMPARE' })}\n                                    onClick={run}\n                                >\n                                    <Compare16Svg />\n                                </button>\n                            )}\n                        />\n                    </React.Fragment>\n                )}\n            </div>\n\n            <div className=\"product-card__image\">\n                <div className=\"image image--type--product\">\n                    <AppLink href={url.product(product)} className=\"image__body\">\n                        {product.images && <AppImage className=\"image__tag\" src={product.images[0]} />}\n                    </AppLink>\n                </div>\n\n                {!exclude.includes('status-badge') && (\n                    <CompatibilityStatusBadge className=\"product-card__fit\" product={product} />\n                )}\n            </div>\n\n            <div className=\"product-card__info\">\n                {!exclude.includes('meta') && (\n                    <div className=\"product-card__meta\">\n                        <span className=\"product-card__meta-title\">\n                            <FormattedMessage id=\"TEXT_SKU\" />\n                            {': '}\n                        </span>\n                        {product.sku}\n                    </div>\n                )}\n\n                <div className=\"product-card__name\">\n                    {product.badges && product.badges.length > 0 && (\n                        <div className=\"product-card__badges\">\n                            {product.badges.map((badge) => (\n                                <div key={badge} className={`tag-badge tag-badge--${badge}`}>{badge}</div>\n                            ))}\n                        </div>\n                    )}\n                    <AppLink href={url.product(product)}>{product.name}</AppLink>\n                </div>\n\n                <div className=\"product-card__rating\">\n                    <Rating className=\"product-card__rating-stars\" value={product.rating || 0} />\n                    <div className=\" product-card__rating-label\">\n                        <FormattedMessage\n                            id=\"TEXT_RATING_LABEL\"\n                            values={{\n                                rating: product.rating,\n                                reviews: product.reviews,\n                            }}\n                        />\n                    </div>\n                </div>\n\n                {!exclude.includes('features') && featuredAttributes.length > 0 && (\n                    <div className=\"product-card__features\">\n                        <ul>\n                            {featuredAttributes.map((attribute, index) => (\n                                <li key={index}>\n                                    {attribute.name}\n                                    {': '}\n                                    {attribute.values.map((x) => x.name).join(', ')}\n                                </li>\n                            ))}\n                        </ul>\n                    </div>\n                )}\n            </div>\n\n            <div className=\"product-card__footer\">\n                <div className=\"product-card__prices\">\n                    {product.compareAtPrice !== null && (\n                        <React.Fragment>\n                            <div className=\"product-card__price product-card__price--new\">\n                                <CurrencyFormat value={product.price} />\n                            </div>\n                            <div className=\"product-card__price product-card__price--old\">\n                                <CurrencyFormat value={product.compareAtPrice} />\n                            </div>\n                        </React.Fragment>\n                    )}\n                    {product.compareAtPrice === null && (\n                        <div className=\"product-card__price product-card__price--current\">\n                            <CurrencyFormat value={product.price} />\n                        </div>\n                    )}\n                </div>\n                {!exclude.includes('buttons') && (\n                    <React.Fragment>\n                        <AsyncAction\n                            action={() => cartAddItem(product)}\n                            render={({ run, loading }) => (\n                                <button\n                                    type=\"button\"\n                                    className={classNames('product-card__addtocart-icon', {\n                                        'product-card__addtocart-icon--loading': loading,\n                                    })}\n                                    aria-label={intl.formatMessage({ id: 'BUTTON_ADD_TO_CART' })}\n                                    onClick={run}\n                                >\n                                    <Cart20Svg />\n                                </button>\n                            )}\n                        />\n                        {!exclude.includes('list-buttons') && (\n                            <React.Fragment>\n                                <AsyncAction\n                                    action={() => cartAddItem(product)}\n                                    render={({ run, loading }) => (\n                                        <button\n                                            type=\"button\"\n                                            className={classNames('product-card__addtocart-full', {\n                                                'product-card__addtocart-full--loading': loading,\n                                            })}\n                                            onClick={run}\n                                        >\n                                            <FormattedMessage id=\"BUTTON_ADD_TO_CART\" />\n                                        </button>\n                                    )}\n                                />\n                                <AsyncAction\n                                    action={() => addToWishlist()}\n                                    render={({ run, loading }) => (\n                                        <button\n                                            type=\"button\"\n                                            className={classNames('product-card__wishlist', {\n                                                'product-card__wishlist--loading': loading,\n                                            })}\n                                            onClick={run}\n                                        >\n                                            <Wishlist16Svg />\n                                            <span>\n                                                <FormattedMessage id=\"BUTTON_ADD_TO_WISHLIST\" />\n                                            </span>\n                                        </button>\n                                    )}\n                                />\n                                <AsyncAction\n                                    action={() => addToCompare()}\n                                    render={({ run, loading }) => (\n                                        <button\n                                            type=\"button\"\n                                            className={classNames('product-card__compare', {\n                                                'product-card__compare--loading': loading,\n                                            })}\n                                            onClick={run}\n                                        >\n                                            <Compare16Svg />\n                                            <span>\n                                                <FormattedMessage id=\"BUTTON_ADD_TO_COMPARE\" />\n                                            </span>\n                                        </button>\n                                    )}\n                                />\n                            </React.Fragment>\n                        )}\n                    </React.Fragment>\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default React.memo(ProductCard);\n"]},"metadata":{},"sourceType":"module"}