{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shbaita Studio\\\\Documents\\\\project\\\\new1\\\\themeforest-irsnufCS-redparts-auto-parts-react-ecommerce-template\\\\Sources\\\\src\\\\pages\\\\account\\\\dashboard.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n// react\nimport React, { useEffect, useState } from 'react'; // third-party\n\nimport { FormattedMessage, useIntl } from 'react-intl'; // application\n\nimport AccountLayout from '~/components/account/AccountLayout';\nimport AddressCard from '~/components/shared/AddressCard';\nimport AppImage from '~/components/shared/AppImage';\nimport AppLink from '~/components/shared/AppLink';\nimport CurrencyFormat from '~/components/shared/CurrencyFormat';\nimport PageTitle from '~/components/shared/PageTitle';\nimport url from '~/services/url';\nimport { accountApi } from '~/api';\nimport { useUser } from '~/store/user/userHooks';\n\nfunction Page() {\n  _s();\n\n  var _this = this;\n\n  var intl = useIntl();\n  var user = useUser();\n\n  var _useState = useState(null),\n      address = _useState[0],\n      setAddress = _useState[1];\n\n  var _useState2 = useState([]),\n      orders = _useState2[0],\n      setOrders = _useState2[1];\n\n  useEffect(function () {\n    if (user) {\n      accountApi.getDefaultAddress().then(setAddress);\n      accountApi.getOrdersList({\n        limit: 3\n      }).then(function (list) {\n        setOrders(list.items);\n      });\n    } else {\n      setAddress(null);\n      setOrders([]);\n    }\n  }, [user]);\n\n  if (!user) {\n    return null;\n  }\n\n  return __jsx(\"div\", {\n    className: \"dashboard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, __jsx(PageTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, intl.formatMessage({\n    id: 'HEADER_DASHBOARD'\n  })), __jsx(\"div\", {\n    className: \"dashboard__profile card profile-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"card-body profile-card__body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"profile-card__avatar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }\n  }, __jsx(AppImage, {\n    src: user.avatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 25\n    }\n  })), __jsx(\"div\", {\n    className: \"profile-card__name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 21\n    }\n  }, \"\".concat(user.firstName, \" \").concat(user.lastName)), __jsx(\"div\", {\n    className: \"profile-card__email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, user.email), __jsx(\"div\", {\n    className: \"profile-card__edit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }, __jsx(AppLink, {\n    href: url.accountProfile(),\n    className: \"btn btn-secondary btn-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 25\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"BUTTON_EDIT_PROFILE\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 29\n    }\n  }))))), !address && __jsx(\"div\", {\n    className: \"dashboard__address card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"card-body d-flex justify-content-center align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"text-center w-75\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 25\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 29\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TEXT_CALL_ADD_ADDRESS\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 32\n    }\n  })), __jsx(AppLink, {\n    href: url.accountAddressNew(),\n    className: \"btn btn-secondary btn-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 29\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"BUTTON_ADD_ADDRESS\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 33\n    }\n  }))))), address && __jsx(AddressCard, {\n    className: \"dashboard__address\",\n    address: address,\n    label: __jsx(FormattedMessage, {\n      id: \"TEXT_DEFAULT_ADDRESS\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 28\n      }\n    }),\n    featured: true,\n    footer: __jsx(AppLink, {\n      href: url.accountAddressEdit(address),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 25\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"LINK_EDIT_ADDRESS\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 29\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }), orders.length > 0 && __jsx(\"div\", {\n    className: \"dashboard__orders card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"card-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, __jsx(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"HEADER_RECENT_ORDERS\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 29\n    }\n  }))), __jsx(\"div\", {\n    className: \"card-divider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }), __jsx(\"div\", {\n    className: \"card-table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"table-responsive-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 25\n    }\n  }, __jsx(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 29\n    }\n  }, __jsx(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 33\n    }\n  }, __jsx(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 37\n    }\n  }, __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 41\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TABLE_NUMBER\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 45\n    }\n  })), __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 41\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TABLE_DATE\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 45\n    }\n  })), __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 41\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TABLE_STATUS\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 45\n    }\n  })), __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 41\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TABLE_TOTAL\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 45\n    }\n  })))), __jsx(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 33\n    }\n  }, orders.map(function (order) {\n    return __jsx(\"tr\", {\n      key: order.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 41\n      }\n    }, __jsx(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 45\n      }\n    }, __jsx(AppLink, {\n      href: url.accountOrderView(order),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 49\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"FORMAT_ORDER_NUMBER\",\n      values: {\n        number: order.number\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 53\n      }\n    }))), __jsx(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 45\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"FORMAT_DATE_MEDIUM\",\n      values: {\n        date: Date.parse(order.createdAt)\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 49\n      }\n    })), __jsx(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 45\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"TEXT_ORDER_STATUS_\".concat(order.status),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 49\n      }\n    })), __jsx(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 45\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"TEXT_ORDER_TOTAL\",\n      values: {\n        total: __jsx(CurrencyFormat, {\n          value: order.total,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 64\n          }\n        }),\n        quantity: order.quantity\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 49\n      }\n    })));\n  })))))));\n}\n\n_s(Page, \"8i6tocndikiK7EfK5xytOV8Xh1c=\", false, function () {\n  return [useIntl, useUser];\n});\n\n_c = Page;\nPage.Layout = AccountLayout;\nexport default Page;\n\nvar _c;\n\n$RefreshReg$(_c, \"Page\");","map":{"version":3,"sources":["C:/Users/Shbaita Studio/Documents/project/new1/themeforest-irsnufCS-redparts-auto-parts-react-ecommerce-template/Sources/src/pages/account/dashboard.tsx"],"names":["React","useEffect","useState","FormattedMessage","useIntl","AccountLayout","AddressCard","AppImage","AppLink","CurrencyFormat","PageTitle","url","accountApi","useUser","Page","intl","user","address","setAddress","orders","setOrders","getDefaultAddress","then","getOrdersList","limit","list","items","formatMessage","id","avatar","firstName","lastName","email","accountProfile","accountAddressNew","accountAddressEdit","length","map","order","accountOrderView","number","date","Date","parse","createdAt","status","total","quantity","Layout"],"mappings":"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","sourcesContent":["// react\nimport React, { useEffect, useState } from 'react';\n// third-party\nimport { FormattedMessage, useIntl } from 'react-intl';\n// application\nimport AccountLayout from '~/components/account/AccountLayout';\nimport AddressCard from '~/components/shared/AddressCard';\nimport AppImage from '~/components/shared/AppImage';\nimport AppLink from '~/components/shared/AppLink';\nimport CurrencyFormat from '~/components/shared/CurrencyFormat';\nimport PageTitle from '~/components/shared/PageTitle';\nimport url from '~/services/url';\nimport { accountApi } from '~/api';\nimport { IAddress } from '~/interfaces/address';\nimport { IOrder } from '~/interfaces/order';\nimport { useUser } from '~/store/user/userHooks';\n\nfunction Page() {\n    const intl = useIntl();\n    const user = useUser();\n    const [address, setAddress] = useState<IAddress | null>(null);\n    const [orders, setOrders] = useState<IOrder[]>([]);\n\n    useEffect(() => {\n        if (user) {\n            accountApi.getDefaultAddress().then(setAddress);\n            accountApi.getOrdersList({ limit: 3 }).then((list) => {\n                setOrders(list.items);\n            });\n        } else {\n            setAddress(null);\n            setOrders([]);\n        }\n    }, [user]);\n\n    if (!user) {\n        return null;\n    }\n\n    return (\n        <div className=\"dashboard\">\n            <PageTitle>{intl.formatMessage({ id: 'HEADER_DASHBOARD' })}</PageTitle>\n\n            <div className=\"dashboard__profile card profile-card\">\n                <div className=\"card-body profile-card__body\">\n                    <div className=\"profile-card__avatar\">\n                        <AppImage src={user.avatar} />\n                    </div>\n                    <div className=\"profile-card__name\">\n                        {`${user.firstName} ${user.lastName}`}\n                    </div>\n                    <div className=\"profile-card__email\">{user.email}</div>\n                    <div className=\"profile-card__edit\">\n                        <AppLink href={url.accountProfile()} className=\"btn btn-secondary btn-sm\">\n                            <FormattedMessage id=\"BUTTON_EDIT_PROFILE\" />\n                        </AppLink>\n                    </div>\n                </div>\n            </div>\n\n            {!address && (\n                <div className=\"dashboard__address card\">\n                    <div className=\"card-body d-flex justify-content-center align-items-center\">\n                        <div className=\"text-center w-75\">\n                            <p><FormattedMessage id=\"TEXT_CALL_ADD_ADDRESS\" /></p>\n\n                            <AppLink href={url.accountAddressNew()} className=\"btn btn-secondary btn-sm\">\n                                <FormattedMessage id=\"BUTTON_ADD_ADDRESS\" />\n                            </AppLink>\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            {address && (\n                <AddressCard\n                    className=\"dashboard__address\"\n                    address={address}\n                    label={<FormattedMessage id=\"TEXT_DEFAULT_ADDRESS\" />}\n                    featured\n                    footer={(\n                        <AppLink href={url.accountAddressEdit(address)}>\n                            <FormattedMessage id=\"LINK_EDIT_ADDRESS\" />\n                        </AppLink>\n                    )}\n                />\n            )}\n\n            {orders.length > 0 && (\n                <div className=\"dashboard__orders card\">\n                    <div className=\"card-header\">\n                        <h5><FormattedMessage id=\"HEADER_RECENT_ORDERS\" /></h5>\n                    </div>\n                    <div className=\"card-divider\" />\n                    <div className=\"card-table\">\n                        <div className=\"table-responsive-sm\">\n                            <table>\n                                <thead>\n                                    <tr>\n                                        <th>\n                                            <FormattedMessage id=\"TABLE_NUMBER\" />\n                                        </th>\n                                        <th>\n                                            <FormattedMessage id=\"TABLE_DATE\" />\n                                        </th>\n                                        <th>\n                                            <FormattedMessage id=\"TABLE_STATUS\" />\n                                        </th>\n                                        <th>\n                                            <FormattedMessage id=\"TABLE_TOTAL\" />\n                                        </th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {orders.map((order) => (\n                                        <tr key={order.id}>\n                                            <td>\n                                                <AppLink href={url.accountOrderView(order)}>\n                                                    <FormattedMessage\n                                                        id=\"FORMAT_ORDER_NUMBER\"\n                                                        values={{ number: order.number }}\n                                                    />\n                                                </AppLink>\n                                            </td>\n                                            <td>\n                                                <FormattedMessage\n                                                    id=\"FORMAT_DATE_MEDIUM\"\n                                                    values={{ date: Date.parse(order.createdAt) }}\n                                                />\n                                            </td>\n                                            <td>\n                                                <FormattedMessage\n                                                    id={`TEXT_ORDER_STATUS_${order.status}`}\n                                                />\n                                            </td>\n                                            <td>\n                                                <FormattedMessage\n                                                    id=\"TEXT_ORDER_TOTAL\"\n                                                    values={{\n                                                        total: <CurrencyFormat value={order.total} />,\n                                                        quantity: order.quantity,\n                                                    }}\n                                                />\n                                            </td>\n                                        </tr>\n                                    ))}\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n\nPage.Layout = AccountLayout;\n\nexport default Page;\n"]},"metadata":{},"sourceType":"module"}