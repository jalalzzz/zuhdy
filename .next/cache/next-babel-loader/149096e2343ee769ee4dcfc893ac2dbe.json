{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shbaita Studio\\\\Documents\\\\project\\\\new1\\\\themeforest-irsnufCS-redparts-auto-parts-react-ecommerce-template\\\\Sources\\\\src\\\\components\\\\shop\\\\ShopSidebar.tsx\";\nvar __jsx = React.createElement;\n\n/* eslint-disable jsx-a11y/click-events-have-key-events,jsx-a11y/no-static-element-interactions */\n// react\nimport React, { useContext, useEffect, useMemo, useState } from 'react'; // third-party\n\nimport classNames from 'classnames';\nimport { FormattedMessage } from 'react-intl'; // application\n\nimport WidgetFilters from '~/components/widgets/WidgetFilters';\nimport WidgetProducts from '~/components/widgets/WidgetProducts';\nimport { Cross12Svg } from '~/svg';\nimport { shopApi } from '~/api';\nimport { SidebarContext } from '~/services/sidebar';\nimport { useMedia } from '~/store/hooks';\n\nfunction ShopSidebar(props) {\n  const {\n    offcanvas\n  } = props;\n  const {\n    0: isOpen,\n    1: setIsOpen\n  } = useContext(SidebarContext);\n  const {\n    0: latestProducts,\n    1: setLatestProducts\n  } = useState([]);\n  const isMobile = useMedia('(max-width: 991px)');\n  const rootClasses = classNames('sidebar', `sidebar--offcanvas--${offcanvas}`, {\n    'sidebar--open': isOpen\n  });\n\n  const close = () => {\n    setIsOpen(false);\n  };\n\n  useEffect(() => {\n    if (isOpen) {\n      const bodyWidth = document.body.offsetWidth;\n      document.body.style.overflow = 'hidden';\n      document.body.style.paddingRight = `${document.body.offsetWidth - bodyWidth}px`;\n    } else {\n      document.body.style.overflow = '';\n      document.body.style.paddingRight = '';\n    }\n  }, [isOpen]);\n  useEffect(() => {\n    if (offcanvas === 'mobile' && isOpen && !isMobile) {\n      setIsOpen(false);\n    }\n  }, [offcanvas, isOpen, setIsOpen, isMobile]);\n  useEffect(() => {\n    let canceled = false;\n\n    if (offcanvas === 'mobile') {\n      shopApi.getLatestProducts(5).then(products => {\n        if (canceled) {\n          return;\n        }\n\n        setLatestProducts(products);\n      });\n    }\n\n    return () => {\n      canceled = true;\n    };\n  }, [offcanvas, setLatestProducts]);\n  const latestProductsTitle = useMemo(() => __jsx(FormattedMessage, {\n    id: \"HEADER_LATEST_PRODUCTS\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 47\n    }\n  }), []);\n  return __jsx(\"div\", {\n    className: rootClasses,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"sidebar__backdrop\",\n    onClick: close,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    className: \"sidebar__body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"sidebar__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"sidebar__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"HEADER_FILTERS\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  })), __jsx(\"button\", {\n    className: \"sidebar__close\",\n    type: \"button\",\n    onClick: close,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }, __jsx(Cross12Svg, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }))), __jsx(\"div\", {\n    className: \"sidebar__content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, __jsx(WidgetFilters, {\n    offcanvasSidebar: offcanvas,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }), offcanvas !== 'always' && __jsx(WidgetProducts, {\n    className: \"d-none d-lg-block\",\n    widgetTitle: latestProductsTitle,\n    products: latestProducts,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }))));\n}\n\nexport default React.memo(ShopSidebar);","map":{"version":3,"sources":["C:/Users/Shbaita Studio/Documents/project/new1/themeforest-irsnufCS-redparts-auto-parts-react-ecommerce-template/Sources/src/components/shop/ShopSidebar.tsx"],"names":["React","useContext","useEffect","useMemo","useState","classNames","FormattedMessage","WidgetFilters","WidgetProducts","Cross12Svg","shopApi","SidebarContext","useMedia","ShopSidebar","props","offcanvas","isOpen","setIsOpen","latestProducts","setLatestProducts","isMobile","rootClasses","close","bodyWidth","document","body","offsetWidth","style","overflow","paddingRight","canceled","getLatestProducts","then","products","latestProductsTitle","memo"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/click-events-have-key-events,jsx-a11y/no-static-element-interactions */\n\n// react\nimport React, {\n    useContext,\n    useEffect,\n    useMemo,\n    useState,\n} from 'react';\n// third-party\nimport classNames from 'classnames';\nimport { FormattedMessage } from 'react-intl';\n// application\nimport WidgetFilters from '~/components/widgets/WidgetFilters';\nimport WidgetProducts from '~/components/widgets/WidgetProducts';\nimport { Cross12Svg } from '~/svg';\nimport { IProduct } from '~/interfaces/product';\nimport { shopApi } from '~/api';\nimport { SidebarContext } from '~/services/sidebar';\nimport { useMedia } from '~/store/hooks';\nimport { IShopPageOffCanvasSidebar } from '~/interfaces/pages';\n\ninterface Props {\n    offcanvas: IShopPageOffCanvasSidebar;\n}\n\nfunction ShopSidebar(props: Props) {\n    const { offcanvas } = props;\n    const [isOpen, setIsOpen] = useContext(SidebarContext);\n    const [latestProducts, setLatestProducts] = useState<IProduct[]>([]);\n    const isMobile = useMedia('(max-width: 991px)');\n\n    const rootClasses = classNames('sidebar', `sidebar--offcanvas--${offcanvas}`, {\n        'sidebar--open': isOpen,\n    });\n\n    const close = () => {\n        setIsOpen(false);\n    };\n\n    useEffect(() => {\n        if (isOpen) {\n            const bodyWidth = document.body.offsetWidth;\n\n            document.body.style.overflow = 'hidden';\n            document.body.style.paddingRight = `${document.body.offsetWidth - bodyWidth}px`;\n        } else {\n            document.body.style.overflow = '';\n            document.body.style.paddingRight = '';\n        }\n    }, [isOpen]);\n\n    useEffect(() => {\n        if (offcanvas === 'mobile' && isOpen && !isMobile) {\n            setIsOpen(false);\n        }\n    }, [offcanvas, isOpen, setIsOpen, isMobile]);\n\n    useEffect(() => {\n        let canceled = false;\n\n        if (offcanvas === 'mobile') {\n            shopApi.getLatestProducts(5).then((products) => {\n                if (canceled) {\n                    return;\n                }\n\n                setLatestProducts(products);\n            });\n        }\n\n        return () => {\n            canceled = true;\n        };\n    }, [offcanvas, setLatestProducts]);\n\n    const latestProductsTitle = useMemo(() => <FormattedMessage id=\"HEADER_LATEST_PRODUCTS\" />, []);\n\n    return (\n        <div className={rootClasses}>\n            <div className=\"sidebar__backdrop\" onClick={close} />\n            <div className=\"sidebar__body\">\n                <div className=\"sidebar__header\">\n                    <div className=\"sidebar__title\">\n                        <FormattedMessage id=\"HEADER_FILTERS\" />\n                    </div>\n                    <button className=\"sidebar__close\" type=\"button\" onClick={close}>\n                        <Cross12Svg />\n                    </button>\n                </div>\n                <div className=\"sidebar__content\">\n                    <WidgetFilters offcanvasSidebar={offcanvas} />\n\n                    {offcanvas !== 'always' && (\n                        <WidgetProducts\n                            className=\"d-none d-lg-block\"\n                            widgetTitle={latestProductsTitle}\n                            products={latestProducts}\n                        />\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default React.memo(ShopSidebar);\n"]},"metadata":{},"sourceType":"module"}