{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shbaita Studio\\\\Documents\\\\project\\\\new1\\\\themeforest-irsnufCS-redparts-auto-parts-react-ecommerce-template\\\\Sources\\\\src\\\\components\\\\shop\\\\ShopPageShop.tsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// react\nimport React, { useEffect, useMemo } from 'react'; // third-party\n\nimport classNames from 'classnames';\nimport queryString from 'query-string';\nimport { useIntl } from 'react-intl'; // application\n\nimport BlockHeader from '~/components/blocks/BlockHeader';\nimport BlockSpace from '~/components/blocks/BlockSpace';\nimport ProductsView from '~/components/shop/ProductsView';\nimport ShopSidebar from '~/components/shop/ShopSidebar';\nimport url from '~/services/url';\nimport { baseUrl, getCategoryParents } from '~/services/utils';\nimport { buildQuery } from '~/store/shop/shopHelpers';\nimport { CurrentVehicleScopeProvider } from '~/services/current-vehicle';\nimport { removePrefix } from '~/services/i18n/utils';\nimport { SidebarProvider } from '~/services/sidebar';\nimport { useAppRouter } from '~/services/router';\nimport { useShop } from '~/store/shop/shopHooks';\n\nfunction ShopPageShop(props) {\n  const {\n    layout,\n    gridLayout,\n    sidebarPosition = 'start'\n  } = props;\n  const intl = useIntl();\n  const router = useAppRouter();\n  const shopState = useShop(); // Replace current url.\n\n  useEffect(() => {\n    const query = buildQuery(shopState.options, shopState.filters);\n    const href = queryString.stringifyUrl(_objectSpread(_objectSpread({}, queryString.parseUrl(router.asPath)), {}, {\n      query: queryString.parse(query)\n    }), {\n      encode: false\n    });\n    router.replace({\n      pathname: router.pathname,\n      query: {\n        slug: router.query.slug\n      }\n    }, removePrefix(href), {\n      shallow: true\n    }).then(() => {\n      // This is necessary for the \"History API\" to work.\n      window.history.replaceState(_objectSpread(_objectSpread({}, window.history.state), {}, {\n        options: _objectSpread(_objectSpread({}, window.history.state.options), {}, {\n          shallow: false\n        })\n      }), '', baseUrl(href));\n    });\n  }, [shopState.options, shopState.filters]);\n  const hasSidebar = ['grid-3-sidebar', 'grid-4-sidebar'].includes(gridLayout);\n  const offCanvasSidebar = ['grid-4-full', 'grid-5-full', 'grid-6-full'].includes(gridLayout) ? 'always' : 'mobile';\n  const pageHeader = useMemo(() => {\n    let pageTitle = intl.formatMessage({\n      id: 'HEADER_SHOP'\n    });\n    const breadcrumb = [{\n      title: intl.formatMessage({\n        id: 'LINK_HOME'\n      }),\n      url: url.home()\n    }, {\n      title: intl.formatMessage({\n        id: 'LINK_SHOP'\n      }),\n      url: url.shop()\n    }];\n\n    if (shopState.category) {\n      getCategoryParents(shopState.category).forEach(parent => {\n        breadcrumb.push({\n          title: parent.name,\n          url: url.category(parent)\n        });\n      });\n      breadcrumb.push({\n        title: shopState.category.name,\n        url: url.category(shopState.category)\n      });\n      pageTitle = shopState.category.name;\n    }\n\n    return __jsx(BlockHeader, {\n      pageTitle: pageTitle,\n      breadcrumb: breadcrumb,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 16\n      }\n    });\n  }, [intl, shopState.category]);\n\n  if (shopState.categoryIsLoading || shopState.productsListIsLoading && !shopState.productsList) {\n    return null;\n  }\n\n  const sidebar = __jsx(ShopSidebar, {\n    offcanvas: offCanvasSidebar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  });\n\n  const blockSplitClasses = classNames('block-split', {\n    'block-split--has-sidebar': hasSidebar\n  });\n  return __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, __jsx(SidebarProvider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, __jsx(CurrentVehicleScopeProvider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, pageHeader, __jsx(\"div\", {\n    className: blockSplitClasses,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 21\n    }\n  }, offCanvasSidebar === 'always' && sidebar, __jsx(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: \"block-split__row row no-gutters\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 29\n    }\n  }, sidebarPosition === 'start' && hasSidebar && __jsx(\"div\", {\n    className: \"block-split__item block-split__item-sidebar col-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 37\n    }\n  }, sidebar), __jsx(\"div\", {\n    className: \"block-split__item block-split__item-content col-auto flex-grow-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 33\n    }\n  }, __jsx(\"div\", {\n    className: \"block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 37\n    }\n  }, __jsx(ProductsView, {\n    layout: layout,\n    gridLayout: gridLayout,\n    offCanvasSidebar: offCanvasSidebar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 41\n    }\n  }))), sidebarPosition === 'end' && hasSidebar && __jsx(\"div\", {\n    className: \"block-split__item block-split__item-sidebar col-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 37\n    }\n  }, sidebar)))), __jsx(BlockSpace, {\n    layout: \"before-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 21\n    }\n  }))));\n}\n\nexport default ShopPageShop;","map":{"version":3,"sources":["C:/Users/Shbaita Studio/Documents/project/new1/themeforest-irsnufCS-redparts-auto-parts-react-ecommerce-template/Sources/src/components/shop/ShopPageShop.tsx"],"names":["React","useEffect","useMemo","classNames","queryString","useIntl","BlockHeader","BlockSpace","ProductsView","ShopSidebar","url","baseUrl","getCategoryParents","buildQuery","CurrentVehicleScopeProvider","removePrefix","SidebarProvider","useAppRouter","useShop","ShopPageShop","props","layout","gridLayout","sidebarPosition","intl","router","shopState","query","options","filters","href","stringifyUrl","parseUrl","asPath","parse","encode","replace","pathname","slug","shallow","then","window","history","replaceState","state","hasSidebar","includes","offCanvasSidebar","pageHeader","pageTitle","formatMessage","id","breadcrumb","title","home","shop","category","forEach","parent","push","name","categoryIsLoading","productsListIsLoading","productsList","sidebar","blockSplitClasses"],"mappings":"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","sourcesContent":["// react\nimport React, { useEffect, useMemo } from 'react';\n// third-party\nimport classNames from 'classnames';\nimport queryString from 'query-string';\nimport { useIntl } from 'react-intl';\n// application\nimport BlockHeader from '~/components/blocks/BlockHeader';\nimport BlockSpace from '~/components/blocks/BlockSpace';\nimport ProductsView from '~/components/shop/ProductsView';\nimport ShopSidebar from '~/components/shop/ShopSidebar';\nimport url from '~/services/url';\nimport { baseUrl, getCategoryParents } from '~/services/utils';\nimport { buildQuery } from '~/store/shop/shopHelpers';\nimport { CurrentVehicleScopeProvider } from '~/services/current-vehicle';\nimport { ILink } from '~/interfaces/link';\nimport { removePrefix } from '~/services/i18n/utils';\nimport { SidebarProvider } from '~/services/sidebar';\nimport { useAppRouter } from '~/services/router';\nimport { useShop } from '~/store/shop/shopHooks';\nimport {\n    IShopPageGridLayout,\n    IShopPageLayout,\n    IShopPageOffCanvasSidebar,\n    IShopPageSidebarPosition,\n} from '~/interfaces/pages';\n\ninterface Props {\n    layout: IShopPageLayout;\n    gridLayout: IShopPageGridLayout;\n    sidebarPosition?: IShopPageSidebarPosition;\n}\n\nfunction ShopPageShop(props: Props) {\n    const {\n        layout,\n        gridLayout,\n        sidebarPosition = 'start',\n    } = props;\n    const intl = useIntl();\n    const router = useAppRouter();\n    const shopState = useShop();\n\n    // Replace current url.\n    useEffect(() => {\n        const query = buildQuery(shopState.options, shopState.filters);\n        const href = queryString.stringifyUrl({\n            ...queryString.parseUrl(router.asPath),\n            query: queryString.parse(query),\n        }, { encode: false });\n\n        router.replace({\n            pathname: router.pathname,\n            query: {\n                slug: router.query.slug,\n            },\n        }, removePrefix(href), {\n            shallow: true,\n        }).then(() => {\n            // This is necessary for the \"History API\" to work.\n            window.history.replaceState(\n                {\n                    ...window.history.state,\n                    options: {\n                        ...window.history.state.options,\n                        shallow: false,\n                    },\n                },\n                '',\n                baseUrl(href),\n            );\n        });\n    }, [shopState.options, shopState.filters]);\n\n    const hasSidebar = ['grid-3-sidebar', 'grid-4-sidebar'].includes(gridLayout);\n    const offCanvasSidebar: IShopPageOffCanvasSidebar = [\n        'grid-4-full',\n        'grid-5-full',\n        'grid-6-full',\n    ].includes(gridLayout) ? 'always' : 'mobile';\n\n    const pageHeader = useMemo(() => {\n        let pageTitle = intl.formatMessage({ id: 'HEADER_SHOP' });\n        const breadcrumb: ILink[] = [\n            { title: intl.formatMessage({ id: 'LINK_HOME' }), url: url.home() },\n            { title: intl.formatMessage({ id: 'LINK_SHOP' }), url: url.shop() },\n        ];\n\n        if (shopState.category) {\n            getCategoryParents(shopState.category).forEach((parent) => {\n                breadcrumb.push({ title: parent.name, url: url.category(parent) });\n            });\n\n            breadcrumb.push({ title: shopState.category.name, url: url.category(shopState.category) });\n\n            pageTitle = shopState.category.name;\n        }\n\n        return <BlockHeader pageTitle={pageTitle} breadcrumb={breadcrumb} />;\n    }, [intl, shopState.category]);\n\n    if (shopState.categoryIsLoading || (shopState.productsListIsLoading && !shopState.productsList)) {\n        return null;\n    }\n\n    const sidebar = (\n        <ShopSidebar offcanvas={offCanvasSidebar} />\n    );\n\n    const blockSplitClasses = classNames('block-split', {\n        'block-split--has-sidebar': hasSidebar,\n    });\n\n    return (\n        <React.Fragment>\n            <SidebarProvider>\n                <CurrentVehicleScopeProvider>\n                    {pageHeader}\n\n                    <div className={blockSplitClasses}>\n                        {offCanvasSidebar === 'always' && sidebar}\n\n                        <div className=\"container\">\n                            <div className=\"block-split__row row no-gutters\">\n                                {sidebarPosition === 'start' && hasSidebar && (\n                                    <div className=\"block-split__item block-split__item-sidebar col-auto\">\n                                        {sidebar}\n                                    </div>\n                                )}\n\n                                <div className=\"block-split__item block-split__item-content col-auto flex-grow-1\">\n                                    <div className=\"block\">\n                                        <ProductsView\n                                            layout={layout}\n                                            gridLayout={gridLayout}\n                                            offCanvasSidebar={offCanvasSidebar}\n                                        />\n                                    </div>\n                                </div>\n\n                                {sidebarPosition === 'end' && hasSidebar && (\n                                    <div className=\"block-split__item block-split__item-sidebar col-auto\">\n                                        {sidebar}\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                    </div>\n\n                    <BlockSpace layout=\"before-footer\" />\n                </CurrentVehicleScopeProvider>\n            </SidebarProvider>\n        </React.Fragment>\n    );\n}\n\nexport default ShopPageShop;\n"]},"metadata":{},"sourceType":"module"}