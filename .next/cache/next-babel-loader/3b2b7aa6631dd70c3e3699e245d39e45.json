{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Shbaita Studio\\\\Documents\\\\project\\\\new1\\\\themeforest-irsnufCS-redparts-auto-parts-react-ecommerce-template\\\\Sources\\\\src\\\\components\\\\shared\\\\Quickview.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n// react\nimport React, { useCallback, useMemo } from 'react'; // third-party\n\nimport classNames from 'classnames';\nimport { Controller, FormProvider } from 'react-hook-form';\nimport { FormattedMessage } from 'react-intl';\nimport { Modal } from 'reactstrap'; // application\n\nimport AppLink from '~/components/shared/AppLink';\nimport AsyncAction from '~/components/shared/AsyncAction';\nimport CurrencyFormat from '~/components/shared/CurrencyFormat';\nimport InputNumber from '~/components/shared/InputNumber';\nimport ProductForm from '~/components/shop/ProductForm';\nimport ProductGallery from '~/components/shop/ProductGallery';\nimport Rating from '~/components/shared/Rating';\nimport StockStatusBadge from '~/components/shared/StockStatusBadge';\nimport url from '~/services/url';\nimport { Compare16Svg, Cross12Svg, Wishlist16Svg } from '~/svg';\nimport { useCompareAddItem } from '~/store/compare/compareHooks';\nimport { useProductForm } from '~/services/forms/product';\nimport { useQuickview, useQuickviewClose } from '~/store/quickview/quickviewHooks';\nimport { useWishlistAddItem } from '~/store/wishlist/wishlistHooks';\n\nfunction Quickview() {\n  _s();\n\n  var _this = this;\n\n  var quickview = useQuickview();\n  var quickviewClose = useQuickviewClose();\n  var wishlistAddItem = useWishlistAddItem();\n  var compareAddItem = useCompareAddItem();\n  var product = quickview.product;\n  var image = useMemo(function () {\n    return (product === null || product === void 0 ? void 0 : product.images) || [];\n  }, [product]);\n  var productForm = useProductForm(product);\n  var toggle = useCallback(function () {\n    if (quickview.open) {\n      quickviewClose();\n    }\n  }, [quickview.open, quickviewClose]);\n\n  if (!product) {\n    return null;\n  }\n\n  var productTemplate = __jsx(\"div\", {\n    className: \"quickview__product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"quickview__product-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, product.name), __jsx(\"div\", {\n    className: \"quickview__product-rating\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"quickview__product-rating-stars\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, __jsx(Rating, {\n    value: product.rating || 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }\n  })), __jsx(\"div\", {\n    className: \"quickview__product-rating-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TEXT_RATING_LABEL\",\n    values: {\n      rating: product.rating,\n      reviews: product.reviews\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }))), __jsx(\"div\", {\n    className: \"quickview__product-meta\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, __jsx(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, __jsx(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, __jsx(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 25\n    }\n  }, __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 29\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TABLE_SKU\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 33\n    }\n  })), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 29\n    }\n  }, product.sku)), product.brand && __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 29\n    }\n  }, __jsx(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 33\n    }\n  }, __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 37\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TABLE_BRAND\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 41\n    }\n  })), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 37\n    }\n  }, __jsx(AppLink, {\n    href: url.brand(product.brand),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 41\n    }\n  }, product.brand.name))), __jsx(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 33\n    }\n  }, __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 37\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TABLE_COUNTRY\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 41\n    }\n  })), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 37\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"COUNTRY_NAME_\".concat(product.brand.country),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 41\n    }\n  })))), __jsx(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }, __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 29\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TABLE_PART_NUMBER\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 33\n    }\n  })), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 29\n    }\n  }, product.partNumber))))), product.excerpt && __jsx(\"div\", {\n    className: \"quickview__product-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, product.excerpt), __jsx(\"div\", {\n    className: \"quickview__product-prices-stock\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"quickview__product-prices\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, product.compareAtPrice !== null && __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: \"quickview__product-price quickview__product-price--old\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 29\n    }\n  }, __jsx(CurrencyFormat, {\n    value: product.compareAtPrice,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 33\n    }\n  })), __jsx(\"div\", {\n    className: \"quickview__product-price quickview__product-price--new\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 29\n    }\n  }, __jsx(CurrencyFormat, {\n    value: product.price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 33\n    }\n  }))), product.compareAtPrice === null && __jsx(\"div\", {\n    className: \"quickview__product-price quickview__product-price--current\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 25\n    }\n  }, __jsx(CurrencyFormat, {\n    value: product.price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 29\n    }\n  }))), __jsx(StockStatusBadge, {\n    className: \"quickview__product-stock\",\n    stock: product.stock,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  })), __jsx(ProductForm, {\n    options: product.options,\n    className: \"quickview__product-form\",\n    namespace: \"options\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    className: \"quickview__product-actions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"quickview__product-actions-item quickview__product-actions-item--quantity\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  }, __jsx(Controller, {\n    name: \"quantity\",\n    rules: {\n      required: true\n    },\n    render: function render(_ref) {\n      var value = _ref.value,\n          onChange = _ref.onChange,\n          onBlur = _ref.onBlur;\n      return __jsx(InputNumber, {\n        min: 1,\n        value: value,\n        onChange: onChange,\n        onBlur: onBlur,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 29\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  })), __jsx(\"div\", {\n    className: \"quickview__product-actions-item quickview__product-actions-item--addtocart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 17\n    }\n  }, __jsx(\"button\", {\n    type: \"submit\",\n    className: classNames('btn', 'btn-primary', 'btn-block', {\n      'btn-loading': productForm.submitInProgress\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 21\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"BUTTON_ADD_TO_CART\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 25\n    }\n  }))), __jsx(AsyncAction, {\n    action: function action() {\n      return wishlistAddItem(product);\n    },\n    render: function render(_ref2) {\n      var run = _ref2.run,\n          loading = _ref2.loading;\n      return __jsx(\"div\", {\n        className: \"quickview__product-actions-item quickview__product-actions-item--wishlist\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 25\n        }\n      }, __jsx(\"button\", {\n        type: \"button\",\n        className: classNames('btn btn-muted btn-icon', {\n          'btn-loading': loading\n        }),\n        onClick: run,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 29\n        }\n      }, __jsx(Wishlist16Svg, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 33\n        }\n      })));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 17\n    }\n  }), __jsx(AsyncAction, {\n    action: function action() {\n      return compareAddItem(product);\n    },\n    render: function render(_ref3) {\n      var run = _ref3.run,\n          loading = _ref3.loading;\n      return __jsx(\"div\", {\n        className: \"quickview__product-actions-item quickview__product-actions-item--compare\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 25\n        }\n      }, __jsx(\"button\", {\n        type: \"button\",\n        className: classNames('btn btn-muted btn-icon', {\n          'btn-loading': loading\n        }),\n        onClick: run,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 29\n        }\n      }, __jsx(Compare16Svg, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 33\n        }\n      })));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  })));\n\n  return __jsx(Modal, {\n    isOpen: quickview.open,\n    toggle: toggle,\n    centered: true,\n    className: \"quickview\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }\n  }, __jsx(\"button\", {\n    type: \"button\",\n    className: \"quickview__close\",\n    onClick: quickviewClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 13\n    }\n  }, __jsx(Cross12Svg, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 17\n    }\n  })), __jsx(FormProvider, _extends({}, productForm.methods, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 13\n    }\n  }), __jsx(\"form\", {\n    onSubmit: productForm.submit,\n    className: \"quickview__body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 17\n    }\n  }, __jsx(ProductGallery, {\n    className: \"quickview__gallery\",\n    layout: \"quickview\",\n    images: image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 21\n    }\n  }), productTemplate)), __jsx(AppLink, {\n    href: url.product(product),\n    className: \"quickview__see-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"BUTTON_SEE_FULL_DETAILS\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 17\n    }\n  })));\n}\n\n_s(Quickview, \"PRQBuBcwA1o4icH+I8AIozc2Dz8=\", false, function () {\n  return [useQuickview, useQuickviewClose, useWishlistAddItem, useCompareAddItem, useProductForm];\n});\n\n_c = Quickview;\nexport default Quickview;\n\nvar _c;\n\n$RefreshReg$(_c, \"Quickview\");","map":{"version":3,"sources":["C:/Users/Shbaita Studio/Documents/project/new1/themeforest-irsnufCS-redparts-auto-parts-react-ecommerce-template/Sources/src/components/shared/Quickview.tsx"],"names":["React","useCallback","useMemo","classNames","Controller","FormProvider","FormattedMessage","Modal","AppLink","AsyncAction","CurrencyFormat","InputNumber","ProductForm","ProductGallery","Rating","StockStatusBadge","url","Compare16Svg","Cross12Svg","Wishlist16Svg","useCompareAddItem","useProductForm","useQuickview","useQuickviewClose","useWishlistAddItem","Quickview","quickview","quickviewClose","wishlistAddItem","compareAddItem","product","image","images","productForm","toggle","open","productTemplate","name","rating","reviews","sku","brand","country","partNumber","excerpt","compareAtPrice","price","stock","options","required","value","onChange","onBlur","submitInProgress","run","loading","methods","submit"],"mappings":"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","sourcesContent":["// react\nimport React, { useCallback, useMemo } from 'react';\n// third-party\nimport classNames from 'classnames';\nimport { Controller, FormProvider } from 'react-hook-form';\nimport { FormattedMessage } from 'react-intl';\nimport { Modal } from 'reactstrap';\n// application\nimport AppLink from '~/components/shared/AppLink';\nimport AsyncAction from '~/components/shared/AsyncAction';\nimport CurrencyFormat from '~/components/shared/CurrencyFormat';\nimport InputNumber from '~/components/shared/InputNumber';\nimport ProductForm from '~/components/shop/ProductForm';\nimport ProductGallery from '~/components/shop/ProductGallery';\nimport Rating from '~/components/shared/Rating';\nimport StockStatusBadge from '~/components/shared/StockStatusBadge';\nimport url from '~/services/url';\nimport { Compare16Svg, Cross12Svg, Wishlist16Svg } from '~/svg';\nimport { useCompareAddItem } from '~/store/compare/compareHooks';\nimport { useProductForm } from '~/services/forms/product';\nimport { useQuickview, useQuickviewClose } from '~/store/quickview/quickviewHooks';\nimport { useWishlistAddItem } from '~/store/wishlist/wishlistHooks';\n\nfunction Quickview() {\n    const quickview = useQuickview();\n    const quickviewClose = useQuickviewClose();\n    const wishlistAddItem = useWishlistAddItem();\n    const compareAddItem = useCompareAddItem();\n    const { product } = quickview;\n    const image = useMemo(() => product?.images || [], [product]);\n    const productForm = useProductForm(product);\n\n    const toggle = useCallback(() => {\n        if (quickview.open) {\n            quickviewClose();\n        }\n    }, [quickview.open, quickviewClose]);\n\n    if (!product) {\n        return null;\n    }\n\n    const productTemplate = (\n        <div className=\"quickview__product\">\n            <div className=\"quickview__product-name\">\n                {product.name}\n            </div>\n            <div className=\"quickview__product-rating\">\n                <div className=\"quickview__product-rating-stars\">\n                    <Rating value={product.rating || 0} />\n                </div>\n                <div className=\"quickview__product-rating-title\">\n                    <FormattedMessage\n                        id=\"TEXT_RATING_LABEL\"\n                        values={{\n                            rating: product.rating,\n                            reviews: product.reviews,\n                        }}\n                    />\n                </div>\n            </div>\n            <div className=\"quickview__product-meta\">\n                <table>\n                    <tbody>\n                        <tr>\n                            <th>\n                                <FormattedMessage id=\"TABLE_SKU\" />\n                            </th>\n                            <td>{product.sku}</td>\n                        </tr>\n                        {product.brand && (\n                            <React.Fragment>\n                                <tr>\n                                    <th>\n                                        <FormattedMessage id=\"TABLE_BRAND\" />\n                                    </th>\n                                    <td>\n                                        <AppLink href={url.brand(product.brand)}>\n                                            {product.brand.name}\n                                        </AppLink>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <th>\n                                        <FormattedMessage id=\"TABLE_COUNTRY\" />\n                                    </th>\n                                    <td>\n                                        <FormattedMessage\n                                            id={`COUNTRY_NAME_${product.brand.country}`}\n                                        />\n                                    </td>\n                                </tr>\n                            </React.Fragment>\n                        )}\n                        <tr>\n                            <th>\n                                <FormattedMessage id=\"TABLE_PART_NUMBER\" />\n                            </th>\n                            <td>{product.partNumber}</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            {product.excerpt && (\n                <div className=\"quickview__product-description\">\n                    {product.excerpt}\n                </div>\n            )}\n            <div className=\"quickview__product-prices-stock\">\n                <div className=\"quickview__product-prices\">\n                    {product.compareAtPrice !== null && (\n                        <React.Fragment>\n                            <div className=\"quickview__product-price quickview__product-price--old\">\n                                <CurrencyFormat value={product.compareAtPrice} />\n                            </div>\n                            <div className=\"quickview__product-price quickview__product-price--new\">\n                                <CurrencyFormat value={product.price} />\n                            </div>\n                        </React.Fragment>\n                    )}\n                    {product.compareAtPrice === null && (\n                        <div className=\"quickview__product-price quickview__product-price--current\">\n                            <CurrencyFormat value={product.price} />\n                        </div>\n                    )}\n                </div>\n                <StockStatusBadge className=\"quickview__product-stock\" stock={product.stock} />\n            </div>\n\n            <ProductForm\n                options={product.options}\n                className=\"quickview__product-form\"\n                namespace=\"options\"\n            />\n\n            <div className=\"quickview__product-actions\">\n                <div className=\"quickview__product-actions-item quickview__product-actions-item--quantity\">\n                    <Controller\n                        name=\"quantity\"\n                        rules={{ required: true }}\n                        render={({ value, onChange, onBlur }) => (\n                            <InputNumber\n                                min={1}\n                                value={value}\n                                onChange={onChange}\n                                onBlur={onBlur}\n                            />\n                        )}\n                    />\n                </div>\n                <div className=\"quickview__product-actions-item quickview__product-actions-item--addtocart\">\n                    <button\n                        type=\"submit\"\n                        className={classNames('btn', 'btn-primary', 'btn-block', {\n                            'btn-loading': productForm.submitInProgress,\n                        })}\n                    >\n                        <FormattedMessage id=\"BUTTON_ADD_TO_CART\" />\n                    </button>\n                </div>\n\n                <AsyncAction\n                    action={() => wishlistAddItem(product)}\n                    render={({ run, loading }) => (\n                        <div className=\"quickview__product-actions-item quickview__product-actions-item--wishlist\">\n                            <button\n                                type=\"button\"\n                                className={classNames('btn btn-muted btn-icon', {\n                                    'btn-loading': loading,\n                                })}\n                                onClick={run}\n                            >\n                                <Wishlist16Svg />\n                            </button>\n                        </div>\n                    )}\n                />\n\n                <AsyncAction\n                    action={() => compareAddItem(product)}\n                    render={({ run, loading }) => (\n                        <div className=\"quickview__product-actions-item quickview__product-actions-item--compare\">\n                            <button\n                                type=\"button\"\n                                className={classNames('btn btn-muted btn-icon', {\n                                    'btn-loading': loading,\n                                })}\n                                onClick={run}\n                            >\n                                <Compare16Svg />\n                            </button>\n                        </div>\n                    )}\n                />\n            </div>\n        </div>\n    );\n\n    return (\n        <Modal isOpen={quickview.open} toggle={toggle} centered className=\"quickview\">\n            <button type=\"button\" className=\"quickview__close\" onClick={quickviewClose}>\n                <Cross12Svg />\n            </button>\n\n            <FormProvider {...productForm.methods}>\n                <form onSubmit={productForm.submit} className=\"quickview__body\">\n                    <ProductGallery className=\"quickview__gallery\" layout=\"quickview\" images={image} />\n\n                    {productTemplate}\n                </form>\n            </FormProvider>\n\n            <AppLink href={url.product(product)} className=\"quickview__see-details\">\n                <FormattedMessage id=\"BUTTON_SEE_FULL_DETAILS\" />\n            </AppLink>\n        </Modal>\n    );\n}\n\nexport default Quickview;\n"]},"metadata":{},"sourceType":"module"}