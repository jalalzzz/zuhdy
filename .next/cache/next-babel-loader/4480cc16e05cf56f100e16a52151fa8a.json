{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shbaita Studio\\\\Documents\\\\project\\\\new1\\\\themeforest-irsnufCS-redparts-auto-parts-react-ecommerce-template\\\\Sources\\\\src\\\\components\\\\shop\\\\ProductGallery.tsx\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n// react\nimport React, { useCallback, useEffect, useRef, useState } from 'react'; // third-party\n\nimport classNames from 'classnames';\n// application\nimport AppImage from '~/components/shared/AppImage';\nimport AppLink from '~/components/shared/AppLink';\nimport AppSlick from '~/components/shared/AppSlick';\nimport { baseUrl } from '~/services/utils';\nimport { useDirection } from '~/services/i18n/hooks';\nimport { ZoomIn24Svg } from '~/svg';\nconst slickSettingsFeatured = {\n  dots: false,\n  arrows: false,\n  infinite: false,\n  speed: 400,\n  slidesToShow: 1,\n  slidesToScroll: 1\n};\nconst slickSettingsThumbnails = {\n  'product-sidebar': {\n    dots: false,\n    arrows: false,\n    infinite: false,\n    speed: 400,\n    slidesToShow: 8,\n    slidesToScroll: 1,\n    responsive: [{\n      breakpoint: 1399,\n      settings: {\n        slidesToShow: 6\n      }\n    }, {\n      breakpoint: 1199,\n      settings: {\n        slidesToShow: 8\n      }\n    }, {\n      breakpoint: 991,\n      settings: {\n        slidesToShow: 8\n      }\n    }, {\n      breakpoint: 767,\n      settings: {\n        slidesToShow: 6\n      }\n    }, {\n      breakpoint: 575,\n      settings: {\n        slidesToShow: 5\n      }\n    }, {\n      breakpoint: 419,\n      settings: {\n        slidesToShow: 4\n      }\n    }]\n  },\n  'product-full': {\n    dots: false,\n    arrows: false,\n    infinite: false,\n    speed: 400,\n    slidesToShow: 6,\n    slidesToScroll: 1,\n    responsive: [{\n      breakpoint: 1399,\n      settings: {\n        slidesToShow: 5\n      }\n    }, {\n      breakpoint: 1199,\n      settings: {\n        slidesToShow: 7\n      }\n    }, {\n      breakpoint: 991,\n      settings: {\n        slidesToShow: 5\n      }\n    }, {\n      breakpoint: 767,\n      settings: {\n        slidesToShow: 6\n      }\n    }, {\n      breakpoint: 575,\n      settings: {\n        slidesToShow: 5\n      }\n    }, {\n      breakpoint: 419,\n      settings: {\n        slidesToShow: 4\n      }\n    }]\n  },\n  quickview: {\n    dots: false,\n    arrows: false,\n    infinite: false,\n    speed: 400,\n    slidesToShow: 5,\n    slidesToScroll: 1,\n    responsive: [{\n      breakpoint: 991,\n      settings: {\n        slidesToShow: 6\n      }\n    }, {\n      breakpoint: 519,\n      settings: {\n        slidesToShow: 5\n      }\n    }, {\n      breakpoint: 439,\n      settings: {\n        slidesToShow: 4\n      }\n    }, {\n      breakpoint: 339,\n      settings: {\n        slidesToShow: 3\n      }\n    }]\n  }\n};\n\nfunction ProductGallery(props) {\n  const {\n    images,\n    layout,\n    className\n  } = props,\n        rootProps = _objectWithoutProperties(props, [\"images\", \"layout\", \"className\"]);\n\n  const direction = useDirection();\n  const {\n    0: state,\n    1: setState\n  } = useState({\n    currentIndex: 0,\n    transition: false\n  });\n  const imagesRefs = useRef([]);\n  const slickFeaturedRef = useRef(null);\n  const createGalleryRef = useRef(null);\n  const galleryRef = useRef(null);\n  const getIndexDependOnDirRef = useRef(null);\n  const unmountedRef = useRef(false);\n  const getIndexDependOnDir = useCallback(index => {\n    // we need to invert index id direction === 'rtl' due to react-slick bug\n    if (direction === 'rtl') {\n      return images.length - 1 - index;\n    }\n\n    return index;\n  }, [direction, images]);\n\n  const openPhotoswipe = index => {\n    if (!createGalleryRef.current) {\n      return;\n    }\n\n    const items = imagesRefs.current.map((tag, index) => {\n      if (!tag) {\n        throw Error('Image ref is null');\n      }\n\n      const width = (tag.dataset.width ? parseFloat(tag.dataset.width) : null) || tag.naturalWidth;\n      const height = (tag.dataset.height ? parseFloat(tag.dataset.height) : null) || tag.naturalHeight;\n      return {\n        src: baseUrl(images[index]),\n        msrc: baseUrl(images[index]),\n        w: width,\n        h: height\n      };\n    });\n\n    if (direction === 'rtl') {\n      items.reverse();\n    } // noinspection JSUnusedGlobalSymbols\n\n\n    const options = {\n      getThumbBoundsFn: index => {\n        // IMPORTANT: Inside this function, we can use variables and functions only through ref.\n        if (!getIndexDependOnDirRef.current) {\n          return {\n            x: 0,\n            y: 0,\n            w: 0\n          };\n        }\n\n        const dirDependentIndex = getIndexDependOnDirRef.current(index);\n        const tag = imagesRefs.current[dirDependentIndex];\n\n        if (!tag) {\n          return {\n            x: 0,\n            y: 0,\n            w: 0\n          };\n        }\n\n        const width = tag.naturalWidth;\n        const height = tag.naturalHeight;\n        const rect = tag.getBoundingClientRect();\n        const ration = Math.min(rect.width / width, rect.height / height);\n        const fitWidth = width * ration;\n        const fitHeight = height * ration;\n        return {\n          x: rect.left + (rect.width - fitWidth) / 2 + window.pageXOffset,\n          y: rect.top + (rect.height - fitHeight) / 2 + window.pageYOffset,\n          w: fitWidth\n        };\n      },\n      index: getIndexDependOnDir(index),\n      bgOpacity: 0.9,\n      history: false\n    };\n    createGalleryRef.current.then(createGallery => {\n      // IMPORTANT: Inside this function, we can use variables and functions only through ref.\n      if (unmountedRef.current) {\n        return;\n      }\n\n      galleryRef.current = createGallery(items, options);\n      galleryRef.current.listen('beforeChange', () => {\n        if (galleryRef.current && slickFeaturedRef.current) {\n          slickFeaturedRef.current.slickGoTo(galleryRef.current.getCurrentIndex(), true);\n        }\n      });\n      galleryRef.current.listen('destroy', () => {\n        galleryRef.current = null;\n      });\n      galleryRef.current.init();\n    });\n  };\n\n  const handleFeaturedClick = (event, index) => {\n    if (!createGalleryRef.current || layout === 'quickview') {\n      return;\n    }\n\n    event.preventDefault();\n    openPhotoswipe(index);\n  };\n\n  const handleThumbnailClick = index => {\n    if (state.transition) {\n      return;\n    }\n\n    setState(prev => _objectSpread(_objectSpread({}, prev), {}, {\n      currentIndex: index\n    }));\n\n    if (slickFeaturedRef.current) {\n      slickFeaturedRef.current.slickGoTo(getIndexDependOnDir(index));\n    }\n  };\n\n  const handleFeaturedBeforeChange = (oldIndex, newIndex) => {\n    setState(prev => _objectSpread(_objectSpread({}, prev), {}, {\n      currentIndex: getIndexDependOnDir(newIndex),\n      transition: true\n    }));\n  };\n\n  const handleFeaturedAfterChange = index => {\n    setState(prev => _objectSpread(_objectSpread({}, prev), {}, {\n      currentIndex: getIndexDependOnDir(index),\n      transition: false\n    }));\n  };\n\n  const handleZoomButtonClick = () => {\n    openPhotoswipe(state.currentIndex);\n  }; // componentDidMount\n\n\n  useEffect(() => {\n    createGalleryRef.current = import('~/services/photoswipe').then(module => module.default);\n  }, []); // componentWillUnmount\n\n  useEffect(() => {\n    unmountedRef.current = false;\n    return () => {\n      if (galleryRef.current) {\n        galleryRef.current.destroy();\n      }\n\n      unmountedRef.current = true;\n    };\n  }, []);\n  useEffect(() => {\n    // this is necessary to reset the transition state,\n    // because when the direction changes, the afterChange event does not fire\n    const timer = setTimeout(() => {\n      setState(prev => _objectSpread(_objectSpread({}, prev), {}, {\n        transition: false\n      }));\n    }, 0);\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [direction]);\n  useEffect(() => {\n    getIndexDependOnDirRef.current = getIndexDependOnDir;\n  }, [getIndexDependOnDir]);\n  const rootClasses = classNames('product-gallery', `product-gallery--layout--${layout}`, className);\n  return __jsx(\"div\", _extends({\n    className: rootClasses,\n    \"data-layout\": layout\n  }, rootProps, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    className: \"product-gallery__featured\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 13\n    }\n  }, __jsx(\"button\", {\n    type: \"button\",\n    className: \"product-gallery__zoom\",\n    onClick: handleZoomButtonClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 17\n    }\n  }, __jsx(ZoomIn24Svg, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 21\n    }\n  })), __jsx(AppSlick, _extends({\n    ref: slickFeaturedRef\n  }, slickSettingsFeatured, {\n    beforeChange: handleFeaturedBeforeChange,\n    afterChange: handleFeaturedAfterChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 17\n    }\n  }), images.map((image, index) => __jsx(\"div\", {\n    key: index,\n    className: \"image image--type--product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 25\n    }\n  }, __jsx(AppLink, {\n    href: image,\n    anchor: true,\n    className: \"image__body\",\n    target: \"_blank\",\n    rel: \"noreferrer\",\n    onClick: event => handleFeaturedClick(event, index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 29\n    }\n  }, __jsx(AppImage, {\n    className: \"image__tag\",\n    src: image,\n    ref: element => {\n      imagesRefs.current[index] = element;\n    },\n    \"data-width\": \"700\",\n    \"data-height\": \"700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 33\n    }\n  })))))), __jsx(\"div\", {\n    className: \"product-gallery__thumbnails\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 13\n    }\n  }, __jsx(AppSlick, _extends({}, slickSettingsThumbnails[layout], {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 17\n    }\n  }), images.map((image, index) => __jsx(\"button\", {\n    type: \"button\",\n    key: index,\n    className: classNames('product-gallery__thumbnails-item', 'image image--type--product', {\n      'product-gallery__thumbnails-item--active': index === state.currentIndex\n    }),\n    onClick: () => handleThumbnailClick(index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: \"image__body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 29\n    }\n  }, __jsx(AppImage, {\n    className: \"image__tag\",\n    src: image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 33\n    }\n  })))))));\n}\n\nexport default React.memo(ProductGallery);","map":{"version":3,"sources":["C:/Users/Shbaita Studio/Documents/project/new1/themeforest-irsnufCS-redparts-auto-parts-react-ecommerce-template/Sources/src/components/shop/ProductGallery.tsx"],"names":["React","useCallback","useEffect","useRef","useState","classNames","AppImage","AppLink","AppSlick","baseUrl","useDirection","ZoomIn24Svg","slickSettingsFeatured","dots","arrows","infinite","speed","slidesToShow","slidesToScroll","slickSettingsThumbnails","responsive","breakpoint","settings","quickview","ProductGallery","props","images","layout","className","rootProps","direction","state","setState","currentIndex","transition","imagesRefs","slickFeaturedRef","createGalleryRef","galleryRef","getIndexDependOnDirRef","unmountedRef","getIndexDependOnDir","index","length","openPhotoswipe","current","items","map","tag","Error","width","dataset","parseFloat","naturalWidth","height","naturalHeight","src","msrc","w","h","reverse","options","getThumbBoundsFn","x","y","dirDependentIndex","rect","getBoundingClientRect","ration","Math","min","fitWidth","fitHeight","left","window","pageXOffset","top","pageYOffset","bgOpacity","history","then","createGallery","listen","slickGoTo","getCurrentIndex","init","handleFeaturedClick","event","preventDefault","handleThumbnailClick","prev","handleFeaturedBeforeChange","oldIndex","newIndex","handleFeaturedAfterChange","handleZoomButtonClick","module","default","destroy","timer","setTimeout","clearTimeout","rootClasses","image","element","memo"],"mappings":"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","sourcesContent":["// react\nimport React, {\n    useCallback,\n    useEffect,\n    useRef,\n    useState,\n} from 'react';\n// third-party\nimport classNames from 'classnames';\nimport PhotoSwipe from 'photoswipe';\nimport PhotoSwipeUIDefault from 'photoswipe/dist/photoswipe-ui-default';\nimport Slick from 'react-slick';\n// application\nimport AppImage from '~/components/shared/AppImage';\nimport AppLink from '~/components/shared/AppLink';\nimport AppSlick, { ISlickProps } from '~/components/shared/AppSlick';\nimport { baseUrl } from '~/services/utils';\nimport { useDirection } from '~/services/i18n/hooks';\nimport { ZoomIn24Svg } from '~/svg';\n\ntype CreateGalleryFn = (\n    images: PhotoSwipe.Item[],\n    options: PhotoSwipe.Options,\n) => PhotoSwipe<PhotoSwipeUIDefault.Options>;\n\nexport type IProductGalleryLayout = 'product-sidebar' | 'product-full' | 'quickview';\n\ninterface Props extends React.HTMLAttributes<HTMLElement> {\n    images: string[];\n    layout: IProductGalleryLayout;\n}\n\nconst slickSettingsFeatured = {\n    dots: false,\n    arrows: false,\n    infinite: false,\n    speed: 400,\n    slidesToShow: 1,\n    slidesToScroll: 1,\n};\n\nconst slickSettingsThumbnails: Record<IProductGalleryLayout, ISlickProps> = {\n    'product-sidebar': {\n        dots: false,\n        arrows: false,\n        infinite: false,\n        speed: 400,\n        slidesToShow: 8,\n        slidesToScroll: 1,\n        responsive: [\n            { breakpoint: 1399, settings: { slidesToShow: 6 } },\n            { breakpoint: 1199, settings: { slidesToShow: 8 } },\n            { breakpoint: 991, settings: { slidesToShow: 8 } },\n            { breakpoint: 767, settings: { slidesToShow: 6 } },\n            { breakpoint: 575, settings: { slidesToShow: 5 } },\n            { breakpoint: 419, settings: { slidesToShow: 4 } },\n        ],\n    },\n    'product-full': {\n        dots: false,\n        arrows: false,\n        infinite: false,\n        speed: 400,\n        slidesToShow: 6,\n        slidesToScroll: 1,\n        responsive: [\n            { breakpoint: 1399, settings: { slidesToShow: 5 } },\n            { breakpoint: 1199, settings: { slidesToShow: 7 } },\n            { breakpoint: 991, settings: { slidesToShow: 5 } },\n            { breakpoint: 767, settings: { slidesToShow: 6 } },\n            { breakpoint: 575, settings: { slidesToShow: 5 } },\n            { breakpoint: 419, settings: { slidesToShow: 4 } },\n        ],\n    },\n    quickview: {\n        dots: false,\n        arrows: false,\n        infinite: false,\n        speed: 400,\n        slidesToShow: 5,\n        slidesToScroll: 1,\n        responsive: [\n            { breakpoint: 991, settings: { slidesToShow: 6 } },\n            { breakpoint: 519, settings: { slidesToShow: 5 } },\n            { breakpoint: 439, settings: { slidesToShow: 4 } },\n            { breakpoint: 339, settings: { slidesToShow: 3 } },\n        ],\n    },\n};\n\nfunction ProductGallery(props: Props) {\n    const {\n        images,\n        layout,\n        className,\n        ...rootProps\n    } = props;\n    const direction = useDirection();\n    const [state, setState] = useState({ currentIndex: 0, transition: false });\n    const imagesRefs = useRef<Array<HTMLImageElement | null>>([]);\n    const slickFeaturedRef = useRef<Slick>(null);\n    const createGalleryRef = useRef<Promise<CreateGalleryFn> | null>(null);\n    const galleryRef = useRef<PhotoSwipe<PhotoSwipeUIDefault.Options> | null>(null);\n    const getIndexDependOnDirRef = useRef<((index: number) => number) | null>(null);\n    const unmountedRef = useRef(false);\n\n    const getIndexDependOnDir = useCallback((index: number) => {\n        // we need to invert index id direction === 'rtl' due to react-slick bug\n        if (direction === 'rtl') {\n            return images.length - 1 - index;\n        }\n\n        return index;\n    }, [direction, images]);\n\n    const openPhotoswipe = (index: number) => {\n        if (!createGalleryRef.current) {\n            return;\n        }\n\n        const items = imagesRefs.current.map((tag, index) => {\n            if (!tag) {\n                throw Error('Image ref is null');\n            }\n\n            const width = (tag.dataset.width ? parseFloat(tag.dataset.width) : null) || tag.naturalWidth;\n            const height = (tag.dataset.height ? parseFloat(tag.dataset.height) : null) || tag.naturalHeight;\n\n            return {\n                src: baseUrl(images[index]),\n                msrc: baseUrl(images[index]),\n                w: width,\n                h: height,\n            };\n        });\n\n        if (direction === 'rtl') {\n            items.reverse();\n        }\n\n        // noinspection JSUnusedGlobalSymbols\n        const options: PhotoSwipe.Options = {\n            getThumbBoundsFn: (index) => {\n                // IMPORTANT: Inside this function, we can use variables and functions only through ref.\n                if (!getIndexDependOnDirRef.current) {\n                    return { x: 0, y: 0, w: 0 };\n                }\n\n                const dirDependentIndex = getIndexDependOnDirRef.current(index);\n                const tag = imagesRefs.current[dirDependentIndex];\n\n                if (!tag) {\n                    return { x: 0, y: 0, w: 0 };\n                }\n\n                const width = tag.naturalWidth;\n                const height = tag.naturalHeight;\n                const rect = tag.getBoundingClientRect();\n                const ration = Math.min(rect.width / width, rect.height / height);\n                const fitWidth = width * ration;\n                const fitHeight = height * ration;\n\n                return {\n                    x: rect.left + (rect.width - fitWidth) / 2 + window.pageXOffset,\n                    y: rect.top + (rect.height - fitHeight) / 2 + window.pageYOffset,\n                    w: fitWidth,\n                };\n            },\n            index: getIndexDependOnDir(index),\n            bgOpacity: 0.9,\n            history: false,\n        };\n\n        createGalleryRef.current.then((createGallery) => {\n            // IMPORTANT: Inside this function, we can use variables and functions only through ref.\n\n            if (unmountedRef.current) {\n                return;\n            }\n\n            galleryRef.current = createGallery(items, options);\n            galleryRef.current.listen('beforeChange', () => {\n                if (galleryRef.current && slickFeaturedRef.current) {\n                    slickFeaturedRef.current.slickGoTo(\n                        galleryRef.current.getCurrentIndex(),\n                        true,\n                    );\n                }\n            });\n            galleryRef.current.listen('destroy', () => {\n                galleryRef.current = null;\n            });\n\n            galleryRef.current.init();\n        });\n    };\n\n    const handleFeaturedClick = (event: React.MouseEvent, index: number) => {\n        if (!createGalleryRef.current || layout === 'quickview') {\n            return;\n        }\n\n        event.preventDefault();\n\n        openPhotoswipe(index);\n    };\n\n    const handleThumbnailClick = (index: number) => {\n        if (state.transition) {\n            return;\n        }\n\n        setState((prev) => ({ ...prev, currentIndex: index }));\n\n        if (slickFeaturedRef.current) {\n            slickFeaturedRef.current.slickGoTo(getIndexDependOnDir(index));\n        }\n    };\n\n    const handleFeaturedBeforeChange: ISlickProps['beforeChange'] = (oldIndex, newIndex) => {\n        setState((prev) => ({\n            ...prev,\n            currentIndex: getIndexDependOnDir(newIndex),\n            transition: true,\n        }));\n    };\n\n    const handleFeaturedAfterChange: ISlickProps['afterChange'] = (index) => {\n        setState((prev) => ({\n            ...prev,\n            currentIndex: getIndexDependOnDir(index),\n            transition: false,\n        }));\n    };\n\n    const handleZoomButtonClick = () => {\n        openPhotoswipe(state.currentIndex);\n    };\n\n    // componentDidMount\n    useEffect(() => {\n        createGalleryRef.current = import('~/services/photoswipe').then((module) => module.default);\n    }, []);\n\n    // componentWillUnmount\n    useEffect(() => {\n        unmountedRef.current = false;\n\n        return () => {\n            if (galleryRef.current) {\n                galleryRef.current.destroy();\n            }\n\n            unmountedRef.current = true;\n        };\n    }, []);\n\n    useEffect(() => {\n        // this is necessary to reset the transition state,\n        // because when the direction changes, the afterChange event does not fire\n        const timer = setTimeout(() => {\n            setState((prev) => ({ ...prev, transition: false }));\n        }, 0);\n\n        return () => {\n            clearTimeout(timer);\n        };\n    }, [direction]);\n\n    useEffect(() => {\n        getIndexDependOnDirRef.current = getIndexDependOnDir;\n    }, [getIndexDependOnDir]);\n\n    const rootClasses = classNames('product-gallery', `product-gallery--layout--${layout}`, className);\n\n    return (\n        <div className={rootClasses} data-layout={layout} {...rootProps}>\n            <div className=\"product-gallery__featured\">\n                <button type=\"button\" className=\"product-gallery__zoom\" onClick={handleZoomButtonClick}>\n                    <ZoomIn24Svg />\n                </button>\n\n                <AppSlick\n                    ref={slickFeaturedRef}\n                    {...slickSettingsFeatured}\n                    beforeChange={handleFeaturedBeforeChange}\n                    afterChange={handleFeaturedAfterChange}\n                >\n                    {images.map((image, index) => (\n                        <div key={index} className=\"image image--type--product\">\n                            <AppLink\n                                href={image}\n                                anchor\n                                className=\"image__body\"\n                                target=\"_blank\"\n                                rel=\"noreferrer\"\n                                onClick={(event: React.MouseEvent) => handleFeaturedClick(event, index)}\n                            >\n                                {/*\n                                The data-width and data-height attributes must contain the size of a larger\n                                version of the product image.\n\n                                If you do not know the image size, you can remove the data-width and data-height\n                                attribute, in which case the width and height will be obtained from the\n                                naturalWidth and naturalHeight property of img.product-image__img.\n                                */}\n                                <AppImage\n                                    className=\"image__tag\"\n                                    src={image}\n                                    ref={(element) => { imagesRefs.current[index] = element; }}\n                                    data-width=\"700\"\n                                    data-height=\"700\"\n                                />\n                            </AppLink>\n                        </div>\n                    ))}\n                </AppSlick>\n            </div>\n            <div className=\"product-gallery__thumbnails\">\n                <AppSlick {...slickSettingsThumbnails[layout]}>\n                    {images.map((image, index) => (\n                        <button\n                            type=\"button\"\n                            key={index}\n                            className={classNames('product-gallery__thumbnails-item', 'image image--type--product', {\n                                'product-gallery__thumbnails-item--active': index === state.currentIndex,\n                            })}\n                            onClick={() => handleThumbnailClick(index)}\n                        >\n                            <div className=\"image__body\">\n                                <AppImage className=\"image__tag\" src={image} />\n                            </div>\n                        </button>\n                    ))}\n                </AppSlick>\n            </div>\n        </div>\n    );\n}\n\nexport default React.memo(ProductGallery);\n"]},"metadata":{},"sourceType":"module"}