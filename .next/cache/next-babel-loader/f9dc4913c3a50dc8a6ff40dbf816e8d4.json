{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { SHOP_NAMESPACE } from '~/store/shop/shopTypes';\nimport { shopApi } from '~/api';\nimport { SHOP_FETCH_CATEGORY_SUCCESS, SHOP_FETCH_PRODUCTS_LIST_START, SHOP_FETCH_PRODUCTS_LIST_SUCCESS, SHOP_INIT, SHOP_RESET_FILTER, SHOP_RESET_FILTERS, SHOP_SET_FILTER_VALUE, SHOP_SET_OPTION_VALUE } from '~/store/shop/shopActionTypes';\n\nvar cancelPreviousCategoryRequest = function cancelPreviousCategoryRequest() {};\n\nvar cancelPreviousProductsListRequest = function cancelPreviousProductsListRequest() {};\n\nexport function shopInit(categorySlug) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var filters = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return {\n    type: SHOP_INIT,\n    categorySlug: categorySlug,\n    options: options,\n    filters: filters\n  };\n}\nexport function shopFetchCategorySuccess(category) {\n  return {\n    type: SHOP_FETCH_CATEGORY_SUCCESS,\n    category: category\n  };\n}\nexport function shopFetchProductsListStart() {\n  return {\n    type: SHOP_FETCH_PRODUCTS_LIST_START\n  };\n}\nexport function shopFetchProductsListSuccess(productsList) {\n  return {\n    type: SHOP_FETCH_PRODUCTS_LIST_SUCCESS,\n    productsList: productsList\n  };\n}\nexport function shopResetFilters() {\n  return {\n    type: SHOP_RESET_FILTERS\n  };\n}\nexport function shopResetFilter(activeFilter) {\n  return {\n    type: SHOP_RESET_FILTER,\n    activeFilter: activeFilter\n  };\n}\nexport function shopSetOptionValue(option, value) {\n  return {\n    type: SHOP_SET_OPTION_VALUE,\n    option: option,\n    value: value\n  };\n}\nexport function shopSetFilterValue(filter, value) {\n  return {\n    type: SHOP_SET_FILTER_VALUE,\n    filter: filter,\n    value: value\n  };\n}\nexport function shopFetchCategoryThunk(categorySlug) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      var canceled, request, category;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              canceled = false;\n              cancelPreviousCategoryRequest();\n\n              cancelPreviousCategoryRequest = function cancelPreviousCategoryRequest() {\n                canceled = true;\n              };\n\n              if (categorySlug) {\n                request = shopApi.getCategoryBySlug(categorySlug);\n              } else {\n                request = Promise.resolve(null);\n              }\n\n              _context.next = 6;\n              return request;\n\n            case 6:\n              category = _context.sent;\n\n              if (!(canceled && true)) {\n                _context.next = 9;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 9:\n              dispatch(shopFetchCategorySuccess(category));\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n}\nexport function shopFetchProductsListThunk() {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch, getState) {\n      var canceled, shopState, filters, productsList;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              canceled = false;\n              cancelPreviousProductsListRequest();\n\n              cancelPreviousProductsListRequest = function cancelPreviousProductsListRequest() {\n                canceled = true;\n              };\n\n              dispatch(shopFetchProductsListStart());\n              shopState = getState()[SHOP_NAMESPACE];\n              filters = shopState.filters;\n\n              if (shopState.categorySlug !== null) {\n                filters = _objectSpread(_objectSpread({}, filters), {}, {\n                  category: shopState.categorySlug\n                });\n              }\n\n              _context2.next = 9;\n              return shopApi.getProductsList(shopState.options, filters);\n\n            case 9:\n              productsList = _context2.sent;\n\n              if (!(canceled && true)) {\n                _context2.next = 12;\n                break;\n              }\n\n              return _context2.abrupt(\"return\");\n\n            case 12:\n              dispatch(shopFetchProductsListSuccess(productsList));\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x2, _x3) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n}\nexport function shopSetOptionValueThunk(option, value) {\n  return /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              dispatch(shopSetOptionValue(option, value));\n              _context3.next = 3;\n              return dispatch(shopFetchProductsListThunk());\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x4) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n}\nexport function shopSetFilterValueThunk(filter, value) {\n  return /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              dispatch(shopSetFilterValue(filter, value));\n              _context4.next = 3;\n              return dispatch(shopFetchProductsListThunk());\n\n            case 3:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function (_x5) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n}\nexport function shopResetFiltersThunk() {\n  return /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              dispatch(shopResetFilters());\n              _context5.next = 3;\n              return dispatch(shopFetchProductsListThunk());\n\n            case 3:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function (_x6) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n}\nexport function shopResetFilterThunk(activeFilter) {\n  return /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              dispatch(shopResetFilter(activeFilter));\n              _context6.next = 3;\n              return dispatch(shopFetchProductsListThunk());\n\n            case 3:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    return function (_x7) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n}\nexport function shopInitThunk(categorySlug) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var filters = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              dispatch(shopInit(categorySlug, options, filters));\n              _context7.next = 3;\n              return Promise.all([dispatch(shopFetchCategoryThunk(categorySlug)), dispatch(shopFetchProductsListThunk())]);\n\n            case 3:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n\n    return function (_x8) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n}","map":{"version":3,"sources":["C:/Users/Shbaita Studio/Documents/project/new1/themeforest-irsnufCS-redparts-auto-parts-react-ecommerce-template/Sources/src/store/shop/shopActions.ts"],"names":["SHOP_NAMESPACE","shopApi","SHOP_FETCH_CATEGORY_SUCCESS","SHOP_FETCH_PRODUCTS_LIST_START","SHOP_FETCH_PRODUCTS_LIST_SUCCESS","SHOP_INIT","SHOP_RESET_FILTER","SHOP_RESET_FILTERS","SHOP_SET_FILTER_VALUE","SHOP_SET_OPTION_VALUE","cancelPreviousCategoryRequest","cancelPreviousProductsListRequest","shopInit","categorySlug","options","filters","type","shopFetchCategorySuccess","category","shopFetchProductsListStart","shopFetchProductsListSuccess","productsList","shopResetFilters","shopResetFilter","activeFilter","shopSetOptionValue","option","value","shopSetFilterValue","filter","shopFetchCategoryThunk","dispatch","canceled","request","getCategoryBySlug","Promise","resolve","shopFetchProductsListThunk","getState","shopState","getProductsList","shopSetOptionValueThunk","shopSetFilterValueThunk","shopResetFiltersThunk","shopResetFilterThunk","shopInitThunk","all"],"mappings":"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","sourcesContent":["import { IActiveFilter } from '~/interfaces/filter';\nimport { IFilterValues, IListOptions } from '~/interfaces/list';\nimport { IProductsList } from '~/interfaces/product';\nimport { IShopCategory } from '~/interfaces/category';\nimport { SHOP_NAMESPACE } from '~/store/shop/shopTypes';\nimport { shopApi } from '~/api';\nimport {\n    SHOP_FETCH_CATEGORY_SUCCESS,\n    SHOP_FETCH_PRODUCTS_LIST_START,\n    SHOP_FETCH_PRODUCTS_LIST_SUCCESS,\n    SHOP_INIT,\n    SHOP_RESET_FILTER,\n    SHOP_RESET_FILTERS,\n    SHOP_SET_FILTER_VALUE,\n    SHOP_SET_OPTION_VALUE,\n    ShopFetchCategorySuccessAction,\n    ShopFetchProductsListStartAction,\n    ShopFetchProductsListSuccessAction,\n    ShopInitAction, ShopResetFilterAction,\n    ShopResetFiltersAction,\n    ShopSetFilterValueAction,\n    ShopSetOptionValueAction,\n    ShopThunkAction,\n} from '~/store/shop/shopActionTypes';\n\nlet cancelPreviousCategoryRequest = () => {};\nlet cancelPreviousProductsListRequest = () => {};\n\nexport function shopInit(\n    categorySlug: string | null,\n    options: IListOptions = {},\n    filters: IFilterValues = {},\n): ShopInitAction {\n    return {\n        type: SHOP_INIT,\n        categorySlug,\n        options,\n        filters,\n    };\n}\n\nexport function shopFetchCategorySuccess(category: IShopCategory | null): ShopFetchCategorySuccessAction {\n    return {\n        type: SHOP_FETCH_CATEGORY_SUCCESS,\n        category,\n    };\n}\n\nexport function shopFetchProductsListStart(): ShopFetchProductsListStartAction {\n    return {\n        type: SHOP_FETCH_PRODUCTS_LIST_START,\n    };\n}\n\nexport function shopFetchProductsListSuccess(productsList: IProductsList): ShopFetchProductsListSuccessAction {\n    return {\n        type: SHOP_FETCH_PRODUCTS_LIST_SUCCESS,\n        productsList,\n    };\n}\n\nexport function shopResetFilters(): ShopResetFiltersAction {\n    return {\n        type: SHOP_RESET_FILTERS,\n    };\n}\n\nexport function shopResetFilter(activeFilter: IActiveFilter): ShopResetFilterAction {\n    return {\n        type: SHOP_RESET_FILTER,\n        activeFilter,\n    };\n}\n\nexport function shopSetOptionValue(option: string, value: string): ShopSetOptionValueAction {\n    return {\n        type: SHOP_SET_OPTION_VALUE,\n        option,\n        value,\n    };\n}\n\nexport function shopSetFilterValue(filter: string, value: string | null): ShopSetFilterValueAction {\n    return {\n        type: SHOP_SET_FILTER_VALUE,\n        filter,\n        value,\n    };\n}\n\nexport function shopFetchCategoryThunk(categorySlug: string | null): ShopThunkAction<Promise<void>> {\n    return async (dispatch) => {\n        let canceled = false;\n\n        cancelPreviousCategoryRequest();\n        cancelPreviousCategoryRequest = () => { canceled = true; };\n\n        let request: Promise<IShopCategory | null>;\n\n        if (categorySlug) {\n            request = shopApi.getCategoryBySlug(categorySlug);\n        } else {\n            request = Promise.resolve(null);\n        }\n\n        const category = await request;\n\n        if (canceled && process.browser) {\n            return;\n        }\n\n        dispatch(shopFetchCategorySuccess(category));\n    };\n}\n\nexport function shopFetchProductsListThunk(): ShopThunkAction<Promise<void>> {\n    return async (dispatch, getState) => {\n        let canceled = false;\n\n        cancelPreviousProductsListRequest();\n        cancelPreviousProductsListRequest = () => { canceled = true; };\n\n        dispatch(shopFetchProductsListStart());\n\n        const shopState = getState()[SHOP_NAMESPACE];\n\n        let { filters } = shopState;\n\n        if (shopState.categorySlug !== null) {\n            filters = { ...filters, category: shopState.categorySlug };\n        }\n\n        const productsList = await shopApi.getProductsList(shopState.options, filters);\n\n        if (canceled && process.browser) {\n            return;\n        }\n\n        dispatch(shopFetchProductsListSuccess(productsList));\n    };\n}\n\nexport function shopSetOptionValueThunk(option: string, value: string): ShopThunkAction<Promise<void>> {\n    return async (dispatch) => {\n        dispatch(shopSetOptionValue(option, value));\n        await dispatch(shopFetchProductsListThunk());\n    };\n}\n\nexport function shopSetFilterValueThunk(filter: string, value: string | null): ShopThunkAction<Promise<void>> {\n    return async (dispatch) => {\n        dispatch(shopSetFilterValue(filter, value));\n        await dispatch(shopFetchProductsListThunk());\n    };\n}\n\nexport function shopResetFiltersThunk(): ShopThunkAction<Promise<void>> {\n    return async (dispatch) => {\n        dispatch(shopResetFilters());\n        await dispatch(shopFetchProductsListThunk());\n    };\n}\n\nexport function shopResetFilterThunk(activeFilter: IActiveFilter): ShopThunkAction<Promise<void>> {\n    return async (dispatch) => {\n        dispatch(shopResetFilter(activeFilter));\n        await dispatch(shopFetchProductsListThunk());\n    };\n}\n\nexport function shopInitThunk(\n    categorySlug: string | null,\n    options: IListOptions = {},\n    filters: IFilterValues = {},\n): ShopThunkAction<Promise<void>> {\n    return async (dispatch) => {\n        dispatch(shopInit(categorySlug, options, filters));\n\n        await Promise.all([\n            dispatch(shopFetchCategoryThunk(categorySlug)),\n            dispatch(shopFetchProductsListThunk()),\n        ]);\n    };\n}\n"]},"metadata":{},"sourceType":"module"}