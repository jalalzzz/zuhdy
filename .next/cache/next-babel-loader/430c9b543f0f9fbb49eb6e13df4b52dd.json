{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shbaita Studio\\\\Documents\\\\project\\\\new1\\\\themeforest-irsnufCS-redparts-auto-parts-react-ecommerce-template\\\\Sources\\\\src\\\\pages\\\\cart\\\\index.tsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// react\nimport React, { useState } from 'react'; // third-party\n\nimport classNames from 'classnames';\nimport { FormattedMessage, useIntl } from 'react-intl'; // application\n\nimport AppImage from '~/components/shared/AppImage';\nimport AppLink from '~/components/shared/AppLink';\nimport AsyncAction from '~/components/shared/AsyncAction';\nimport BlockHeader from '~/components/blocks/BlockHeader';\nimport BlockSpace from '~/components/blocks/BlockSpace';\nimport CurrencyFormat from '~/components/shared/CurrencyFormat';\nimport InputNumber from '~/components/shared/InputNumber';\nimport PageTitle from '~/components/shared/PageTitle';\nimport url from '~/services/url';\nimport { Cross12Svg } from '~/svg';\nimport { useCart, useCartRemoveItem, useCartUpdateQuantities } from '~/store/cart/cartHooks';\n\nfunction Page() {\n  const intl = useIntl();\n  const cart = useCart();\n  const cartRemoveItem = useCartRemoveItem();\n  const cartUpdateQuantities = useCartUpdateQuantities();\n  const {\n    0: quantities,\n    1: setQuantities\n  } = useState([]);\n  const {\n    items\n  } = cart;\n\n  const updateQuantities = () => cartUpdateQuantities(quantities.map(x => _objectSpread(_objectSpread({}, x), {}, {\n    value: typeof x.value === 'string' ? parseFloat(x.value) : x.value\n  })));\n\n  const cartNeedUpdate = () => quantities.filter(x => {\n    const item = cart.items.find(item => item.id === x.itemId);\n    return item && item.quantity !== x.value && x.value !== '';\n  }).length > 0;\n\n  const getItemQuantity = item => {\n    const quantity = quantities.find(x => x.itemId === item.id);\n    return quantity ? quantity.value : item.quantity;\n  };\n\n  const handleChangeQuantity = (item, quantity) => {\n    setQuantities(prevState => {\n      const index = prevState.findIndex(x => x.itemId === item.id);\n\n      if (index === -1) {\n        return [...prevState, {\n          itemId: item.id,\n          value: quantity\n        }];\n      }\n\n      return [...prevState.slice(0, index), _objectSpread(_objectSpread({}, prevState[index]), {}, {\n        value: quantity\n      }), ...prevState.slice(index + 1)];\n    });\n  };\n\n  if (items.length === 0) {\n    return __jsx(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }, __jsx(PageTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }, intl.formatMessage({\n      id: 'HEADER_SHOPPING_CART'\n    })), __jsx(BlockHeader, {\n      breadcrumb: [{\n        title: intl.formatMessage({\n          id: 'LINK_HOME'\n        }),\n        url: url.home()\n      }, {\n        title: intl.formatMessage({\n          id: 'LINK_CART'\n        }),\n        url: url.cart()\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }), __jsx(\"div\", {\n      className: \"block-empty\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    }, __jsx(\"div\", {\n      className: \"block-empty__body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }\n    }, __jsx(\"h1\", {\n      className: \"block-empty__title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 29\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"HEADER_SHOPPING_CART_EMPTY_TITLE\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 33\n      }\n    })), __jsx(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: intl.formatMessage({\n          id: 'HEADER_SHOPPING_CART_EMPTY_SUBTITLE'\n        })\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 29\n      }\n    }), __jsx(\"div\", {\n      className: \"block-empty__action\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 29\n      }\n    }, __jsx(AppLink, {\n      href: url.home(),\n      className: \"btn btn-primary btn-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 33\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"BUTTON_GO_TO_HOMEPAGE\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 37\n      }\n    })))))), __jsx(BlockSpace, {\n      layout: \"before-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }));\n  }\n\n  const table = __jsx(\"table\", {\n    className: \"cart-table__table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, __jsx(\"thead\", {\n    className: \"cart-table__head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, __jsx(\"tr\", {\n    className: \"cart-table__row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, __jsx(\"th\", {\n    className: \"cart-table__column cart-table__column--image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 21\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TABLE_IMAGE\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 25\n    }\n  })), __jsx(\"th\", {\n    className: \"cart-table__column cart-table__column--product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 21\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TABLE_PRODUCT\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 25\n    }\n  })), __jsx(\"th\", {\n    className: \"cart-table__column cart-table__column--price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TABLE_PRICE\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 25\n    }\n  })), __jsx(\"th\", {\n    className: \"cart-table__column cart-table__column--quantity\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 21\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TABLE_QUANTITY\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 25\n    }\n  })), __jsx(\"th\", {\n    className: \"cart-table__column cart-table__column--total\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 21\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TABLE_TOTAL\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 25\n    }\n  })), __jsx(\"th\", {\n    className: \"cart-table__column cart-table__column--remove\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    className: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 25\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TABLE_REMOVE\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 29\n    }\n  }))))), __jsx(\"tbody\", {\n    className: \"cart-table__body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }, items.map(item => __jsx(\"tr\", {\n    key: item.id,\n    className: \"cart-table__row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  }, __jsx(\"td\", {\n    className: \"cart-table__column cart-table__column--image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: \"image image--type--product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 29\n    }\n  }, __jsx(AppLink, {\n    href: url.product(item.product),\n    className: \"image__body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 33\n    }\n  }, __jsx(AppImage, {\n    className: \"image__tag\",\n    src: item.product.images && item.product.images[0],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 37\n    }\n  })))), __jsx(\"td\", {\n    className: \"cart-table__column cart-table__column--product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 25\n    }\n  }, __jsx(AppLink, {\n    href: url.product(item.product),\n    className: \"cart-table__product-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 29\n    }\n  }, item.product.name), item.options.length > 0 && __jsx(\"ul\", {\n    className: \"cart-table__options\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 33\n    }\n  }, item.options.map((option, optionIndex) => __jsx(\"li\", {\n    key: optionIndex,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 41\n    }\n  }, `${option.name}: ${option.value}`)))), __jsx(\"td\", {\n    className: \"cart-table__column cart-table__column--price\",\n    \"data-title\": intl.formatMessage({\n      id: 'TABLE_PRICE'\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 25\n    }\n  }, __jsx(CurrencyFormat, {\n    value: item.price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 29\n    }\n  })), __jsx(\"td\", {\n    className: \"cart-table__column cart-table__column--quantity\",\n    \"data-title\": intl.formatMessage({\n      id: 'TABLE_QUANTITY'\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 25\n    }\n  }, __jsx(InputNumber, {\n    min: 1,\n    className: \"cart-table__quantity\",\n    value: getItemQuantity(item),\n    onChange: quantity => handleChangeQuantity(item, quantity),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 29\n    }\n  })), __jsx(\"td\", {\n    className: \"cart-table__column cart-table__column--total\",\n    \"data-title\": intl.formatMessage({\n      id: 'TABLE_TOTAL'\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 25\n    }\n  }, __jsx(CurrencyFormat, {\n    value: item.total,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 29\n    }\n  })), __jsx(\"td\", {\n    className: \"cart-table__column cart-table__column--remove\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 25\n    }\n  }, __jsx(AsyncAction, {\n    action: () => cartRemoveItem(item.id),\n    render: ({\n      run,\n      loading\n    }) => __jsx(\"button\", {\n      type: \"button\",\n      className: classNames('cart-table__remove', 'btn', 'btn-sm', 'btn-icon', 'btn-muted', {\n        'btn-loading': loading\n      }),\n      onClick: run,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 37\n      }\n    }, __jsx(Cross12Svg, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 41\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 29\n    }\n  }))))), __jsx(\"tfoot\", {\n    className: \"cart-table__foot\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 13\n    }\n  }, __jsx(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 17\n    }\n  }, __jsx(\"td\", {\n    colSpan: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"cart-table__actions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 25\n    }\n  }, __jsx(\"form\", {\n    className: \"cart-table__coupon-form form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 29\n    }\n  }, __jsx(\"div\", {\n    className: \"form-group mb-0 col flex-grow-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 33\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"coupon-code\",\n    className: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 37\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"INPUT_COUPON_CODE_LABEL\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 41\n    }\n  })), __jsx(\"input\", {\n    type: \"text\",\n    className: \"form-control form-control-sm\",\n    id: \"coupon-code\",\n    placeholder: intl.formatMessage({\n      id: 'INPUT_COUPON_CODE_PLACEHOLDER'\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 37\n    }\n  })), __jsx(\"div\", {\n    className: \"form-group mb-0 col-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 33\n    }\n  }, __jsx(\"button\", {\n    type: \"button\",\n    className: \"btn btn-sm btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 37\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"BUTTON_APPLY_COUPON\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 41\n    }\n  })))), __jsx(\"div\", {\n    className: \"cart-table__update-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 29\n    }\n  }, __jsx(AsyncAction, {\n    action: updateQuantities,\n    render: ({\n      run,\n      loading\n    }) => __jsx(\"button\", {\n      type: \"button\",\n      className: classNames('btn', 'btn-sm', 'btn-primary', {\n        'btn-loading': loading\n      }),\n      disabled: !cartNeedUpdate(),\n      onClick: run,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 41\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"BUTTON_UPDATE_CART\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 45\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 33\n    }\n  })))))));\n\n  const totals = __jsx(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"card-body card-body--padding--2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 13\n    }\n  }, __jsx(\"h3\", {\n    className: \"card-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 17\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"HEADER_CART_TOTALS\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 21\n    }\n  })), __jsx(\"table\", {\n    className: \"cart__totals-table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 17\n    }\n  }, cart.totals.length > 0 && __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 25\n    }\n  }, __jsx(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 29\n    }\n  }, __jsx(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 33\n    }\n  }, __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 37\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TABLE_SUBTOTAL\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 41\n    }\n  })), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 37\n    }\n  }, __jsx(CurrencyFormat, {\n    value: cart.subtotal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 41\n    }\n  })))), __jsx(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 29\n    }\n  }, cart.totals.map((total, index) => __jsx(\"tr\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 37\n    }\n  }, __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 41\n    }\n  }, __jsx(FormattedMessage, {\n    id: `TABLE_TOTAL_${total.title}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 45\n    }\n  })), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 41\n    }\n  }, __jsx(CurrencyFormat, {\n    value: total.price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 45\n    }\n  }), total.type === 'shipping' && __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 49\n    }\n  }, __jsx(AppLink, {\n    anchor: true,\n    onClick: event => event.preventDefault(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 53\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"LINK_CALCULATE_SHIPPING\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 57\n    }\n  })))))))), __jsx(\"tfoot\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 21\n    }\n  }, __jsx(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 25\n    }\n  }, __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 29\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"TABLE_TOTAL\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 33\n    }\n  })), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 29\n    }\n  }, __jsx(CurrencyFormat, {\n    value: cart.total,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 33\n    }\n  }))))), __jsx(AppLink, {\n    href: url.checkout(),\n    className: \"btn btn-primary btn-xl btn-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 17\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"BUTTON_PROCEED_TO_CHECKOUT\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 21\n    }\n  }))));\n\n  return __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 9\n    }\n  }, __jsx(PageTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 13\n    }\n  }, intl.formatMessage({\n    id: 'HEADER_SHOPPING_CART'\n  })), __jsx(BlockHeader, {\n    pageTitle: __jsx(FormattedMessage, {\n      id: \"HEADER_SHOPPING_CART\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 28\n      }\n    }),\n    breadcrumb: [{\n      title: intl.formatMessage({\n        id: 'LINK_HOME'\n      }),\n      url: url.home()\n    }, {\n      title: intl.formatMessage({\n        id: 'LINK_CART'\n      }),\n      url: url.cart()\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    className: \"block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"cart__table cart-table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 25\n    }\n  }, table), __jsx(\"div\", {\n    className: \"cart__totals\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 25\n    }\n  }, totals)))), __jsx(BlockSpace, {\n    layout: \"before-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default Page;","map":{"version":3,"sources":["C:/Users/Shbaita Studio/Documents/project/new1/themeforest-irsnufCS-redparts-auto-parts-react-ecommerce-template/Sources/src/pages/cart/index.tsx"],"names":["React","useState","classNames","FormattedMessage","useIntl","AppImage","AppLink","AsyncAction","BlockHeader","BlockSpace","CurrencyFormat","InputNumber","PageTitle","url","Cross12Svg","useCart","useCartRemoveItem","useCartUpdateQuantities","Page","intl","cart","cartRemoveItem","cartUpdateQuantities","quantities","setQuantities","items","updateQuantities","map","x","value","parseFloat","cartNeedUpdate","filter","item","find","id","itemId","quantity","length","getItemQuantity","handleChangeQuantity","prevState","index","findIndex","slice","formatMessage","title","home","__html","table","product","images","name","options","option","optionIndex","price","total","run","loading","totals","subtotal","type","event","preventDefault","checkout"],"mappings":"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","sourcesContent":["// react\nimport React, { useState } from 'react';\n// third-party\nimport classNames from 'classnames';\nimport { FormattedMessage, useIntl } from 'react-intl';\n// application\nimport AppImage from '~/components/shared/AppImage';\nimport AppLink from '~/components/shared/AppLink';\nimport AsyncAction from '~/components/shared/AsyncAction';\nimport BlockHeader from '~/components/blocks/BlockHeader';\nimport BlockSpace from '~/components/blocks/BlockSpace';\nimport CurrencyFormat from '~/components/shared/CurrencyFormat';\nimport InputNumber from '~/components/shared/InputNumber';\nimport PageTitle from '~/components/shared/PageTitle';\nimport url from '~/services/url';\nimport { Cross12Svg } from '~/svg';\nimport { ICartItem } from '~/store/cart/cartTypes';\nimport { useCart, useCartRemoveItem, useCartUpdateQuantities } from '~/store/cart/cartHooks';\n\ninterface Quantity {\n    itemId: number;\n    value: string | number;\n}\n\nfunction Page() {\n    const intl = useIntl();\n    const cart = useCart();\n    const cartRemoveItem = useCartRemoveItem();\n    const cartUpdateQuantities = useCartUpdateQuantities();\n    const [quantities, setQuantities] = useState<Quantity[]>([]);\n    const { items } = cart;\n\n    const updateQuantities = () => (\n        cartUpdateQuantities(quantities.map((x) => ({\n            ...x,\n            value: typeof x.value === 'string' ? parseFloat(x.value) : x.value,\n        })))\n    );\n\n    const cartNeedUpdate = () => (\n        quantities.filter((x) => {\n            const item = cart.items.find((item) => item.id === x.itemId);\n\n            return item && item.quantity !== x.value && x.value !== '';\n        }).length > 0\n    );\n\n    const getItemQuantity = (item: ICartItem) => {\n        const quantity = quantities.find((x) => x.itemId === item.id);\n\n        return quantity ? quantity.value : item.quantity;\n    };\n\n    const handleChangeQuantity = (item: ICartItem, quantity: string | number) => {\n        setQuantities((prevState) => {\n            const index = prevState.findIndex((x) => x.itemId === item.id);\n\n            if (index === -1) {\n                return [\n                    ...prevState,\n                    {\n                        itemId: item.id,\n                        value: quantity,\n                    },\n                ];\n            }\n\n            return [\n                ...prevState.slice(0, index),\n                {\n                    ...prevState[index],\n                    value: quantity,\n                },\n                ...prevState.slice(index + 1),\n            ];\n        });\n    };\n\n    if (items.length === 0) {\n        return (\n            <React.Fragment>\n                <PageTitle>{intl.formatMessage({ id: 'HEADER_SHOPPING_CART' })}</PageTitle>\n\n                <BlockHeader\n                    breadcrumb={[\n                        { title: intl.formatMessage({ id: 'LINK_HOME' }), url: url.home() },\n                        { title: intl.formatMessage({ id: 'LINK_CART' }), url: url.cart() },\n                    ]}\n                />\n\n                <div className=\"block-empty\">\n                    <div className=\"container\">\n                        <div className=\"block-empty__body\">\n                            <h1 className=\"block-empty__title\">\n                                <FormattedMessage id=\"HEADER_SHOPPING_CART_EMPTY_TITLE\" />\n                            </h1>\n                            <div\n                                dangerouslySetInnerHTML={{\n                                    __html: intl.formatMessage({ id: 'HEADER_SHOPPING_CART_EMPTY_SUBTITLE' }),\n                                }}\n                            />\n                            <div className=\"block-empty__action\">\n                                <AppLink href={url.home()} className=\"btn btn-primary btn-sm\">\n                                    <FormattedMessage id=\"BUTTON_GO_TO_HOMEPAGE\" />\n                                </AppLink>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <BlockSpace layout=\"before-footer\" />\n            </React.Fragment>\n        );\n    }\n\n    const table = (\n        <table className=\"cart-table__table\">\n            <thead className=\"cart-table__head\">\n                <tr className=\"cart-table__row\">\n                    <th className=\"cart-table__column cart-table__column--image\">\n                        <FormattedMessage id=\"TABLE_IMAGE\" />\n                    </th>\n                    <th className=\"cart-table__column cart-table__column--product\">\n                        <FormattedMessage id=\"TABLE_PRODUCT\" />\n                    </th>\n                    <th className=\"cart-table__column cart-table__column--price\">\n                        <FormattedMessage id=\"TABLE_PRICE\" />\n                    </th>\n                    <th className=\"cart-table__column cart-table__column--quantity\">\n                        <FormattedMessage id=\"TABLE_QUANTITY\" />\n                    </th>\n                    <th className=\"cart-table__column cart-table__column--total\">\n                        <FormattedMessage id=\"TABLE_TOTAL\" />\n                    </th>\n                    <th className=\"cart-table__column cart-table__column--remove\">\n                        <span className=\"sr-only\">\n                            <FormattedMessage id=\"TABLE_REMOVE\" />\n                        </span>\n                    </th>\n                </tr>\n            </thead>\n            <tbody className=\"cart-table__body\">\n                {items.map((item) => (\n                    <tr key={item.id} className=\"cart-table__row\">\n                        <td className=\"cart-table__column cart-table__column--image\">\n                            <div className=\"image image--type--product\">\n                                <AppLink href={url.product(item.product)} className=\"image__body\">\n                                    <AppImage\n                                        className=\"image__tag\"\n                                        src={item.product.images && item.product.images[0]}\n                                    />\n                                </AppLink>\n                            </div>\n                        </td>\n                        <td className=\"cart-table__column cart-table__column--product\">\n                            <AppLink href={url.product(item.product)} className=\"cart-table__product-name\">\n                                {item.product.name}\n                            </AppLink>\n                            {item.options.length > 0 && (\n                                <ul className=\"cart-table__options\">\n                                    {item.options.map((option, optionIndex) => (\n                                        <li key={optionIndex}>\n                                            {`${option.name}: ${option.value}`}\n                                        </li>\n                                    ))}\n                                </ul>\n                            )}\n                        </td>\n                        <td\n                            className=\"cart-table__column cart-table__column--price\"\n                            data-title={intl.formatMessage({ id: 'TABLE_PRICE' })}\n                        >\n                            <CurrencyFormat value={item.price} />\n                        </td>\n                        <td\n                            className=\"cart-table__column cart-table__column--quantity\"\n                            data-title={intl.formatMessage({ id: 'TABLE_QUANTITY' })}\n                        >\n                            <InputNumber\n                                min={1}\n                                className=\"cart-table__quantity\"\n                                value={getItemQuantity(item)}\n                                onChange={(quantity) => handleChangeQuantity(item, quantity)}\n                            />\n                        </td>\n                        <td\n                            className=\"cart-table__column cart-table__column--total\"\n                            data-title={intl.formatMessage({ id: 'TABLE_TOTAL' })}\n                        >\n                            <CurrencyFormat value={item.total} />\n                        </td>\n                        <td className=\"cart-table__column cart-table__column--remove\">\n                            <AsyncAction\n                                action={() => cartRemoveItem(item.id)}\n                                render={({ run, loading }) => (\n                                    <button\n                                        type=\"button\"\n                                        className={classNames(\n                                            'cart-table__remove',\n                                            'btn',\n                                            'btn-sm',\n                                            'btn-icon',\n                                            'btn-muted',\n                                            {\n                                                'btn-loading': loading,\n                                            },\n                                        )}\n                                        onClick={run}\n                                    >\n\n                                        <Cross12Svg />\n                                    </button>\n                                )}\n                            />\n                        </td>\n                    </tr>\n                ))}\n            </tbody>\n            <tfoot className=\"cart-table__foot\">\n                <tr>\n                    <td colSpan={6}>\n                        <div className=\"cart-table__actions\">\n                            <form className=\"cart-table__coupon-form form-row\">\n                                <div className=\"form-group mb-0 col flex-grow-1\">\n                                    <label htmlFor=\"coupon-code\" className=\"sr-only\">\n                                        <FormattedMessage id=\"INPUT_COUPON_CODE_LABEL\" />\n                                    </label>\n                                    <input\n                                        type=\"text\"\n                                        className=\"form-control form-control-sm\"\n                                        id=\"coupon-code\"\n                                        placeholder={intl.formatMessage({ id: 'INPUT_COUPON_CODE_PLACEHOLDER' })}\n                                    />\n                                </div>\n                                <div className=\"form-group mb-0 col-auto\">\n                                    <button type=\"button\" className=\"btn btn-sm btn-primary\">\n                                        <FormattedMessage id=\"BUTTON_APPLY_COUPON\" />\n                                    </button>\n                                </div>\n                            </form>\n                            <div className=\"cart-table__update-button\">\n                                <AsyncAction\n                                    action={updateQuantities}\n                                    render={({ run, loading }) => (\n                                        <button\n                                            type=\"button\"\n                                            className={classNames('btn', 'btn-sm', 'btn-primary', {\n                                                'btn-loading': loading,\n                                            })}\n                                            disabled={!cartNeedUpdate()}\n                                            onClick={run}\n                                        >\n                                            <FormattedMessage id=\"BUTTON_UPDATE_CART\" />\n                                        </button>\n                                    )}\n                                />\n                            </div>\n                        </div>\n                    </td>\n                </tr>\n            </tfoot>\n        </table>\n    );\n\n    const totals = (\n        <div className=\"card\">\n            <div className=\"card-body card-body--padding--2\">\n                <h3 className=\"card-title\">\n                    <FormattedMessage id=\"HEADER_CART_TOTALS\" />\n                </h3>\n\n                <table className=\"cart__totals-table\">\n                    {cart.totals.length > 0 && (\n                        <React.Fragment>\n                            <thead>\n                                <tr>\n                                    <th>\n                                        <FormattedMessage id=\"TABLE_SUBTOTAL\" />\n                                    </th>\n                                    <td>\n                                        <CurrencyFormat value={cart.subtotal} />\n                                    </td>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {cart.totals.map((total, index) => (\n                                    <tr key={index}>\n                                        <th>\n                                            <FormattedMessage id={`TABLE_TOTAL_${total.title}`} />\n                                        </th>\n                                        <td>\n                                            <CurrencyFormat value={total.price} />\n\n                                            {total.type === 'shipping' && (\n                                                <div>\n                                                    <AppLink anchor onClick={(event) => event.preventDefault()}>\n                                                        <FormattedMessage id=\"LINK_CALCULATE_SHIPPING\" />\n                                                    </AppLink>\n                                                </div>\n                                            )}\n\n                                        </td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </React.Fragment>\n                    )}\n                    <tfoot>\n                        <tr>\n                            <th>\n                                <FormattedMessage id=\"TABLE_TOTAL\" />\n                            </th>\n                            <td>\n                                <CurrencyFormat value={cart.total} />\n                            </td>\n                        </tr>\n                    </tfoot>\n                </table>\n\n                <AppLink href={url.checkout()} className=\"btn btn-primary btn-xl btn-block\">\n                    <FormattedMessage id=\"BUTTON_PROCEED_TO_CHECKOUT\" />\n                </AppLink>\n            </div>\n        </div>\n    );\n\n    return (\n        <React.Fragment>\n            <PageTitle>{intl.formatMessage({ id: 'HEADER_SHOPPING_CART' })}</PageTitle>\n\n            <BlockHeader\n                pageTitle={<FormattedMessage id=\"HEADER_SHOPPING_CART\" />}\n                breadcrumb={[\n                    { title: intl.formatMessage({ id: 'LINK_HOME' }), url: url.home() },\n                    { title: intl.formatMessage({ id: 'LINK_CART' }), url: url.cart() },\n                ]}\n            />\n\n            <div className=\"block\">\n                <div className=\"container\">\n                    <div className=\"cart\">\n                        <div className=\"cart__table cart-table\">\n                            {table}\n                        </div>\n                        <div className=\"cart__totals\">\n                            {totals}\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <BlockSpace layout=\"before-footer\" />\n        </React.Fragment>\n    );\n}\n\nexport default Page;\n"]},"metadata":{},"sourceType":"module"}